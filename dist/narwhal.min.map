{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","export","ctorName","renderer","normalizeSeries","data","length","map","bind","series","index","name","datum","Error","prototype","opt","extend","renderFunc","isArray","datums","call","partial","visualizations","push","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","removeChild","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","each","visualization","layer","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","yAxis","smartAxis","labels","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","nice","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","tickValues","_extractYTickValues","numTicks","_numYTicks","tickFormat","tickSize","ticks","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","d","isObject","x","categories","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","niceRound","smartAxisValues","adjustedDomain","merge","regularAxisisValues","dmin","dmax","span","ceil","helpers","isTimeData","isDate","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","time","extent","getOptimalTickFormat","maxTicks","customValues","len","step","j","axisGroup","spanDays","rangeRound","numberHelpers","ar","roundToNearest","number","multiple","val","arrayHelpers","array1","array2","concat","sort","a","b","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","_data","interpolate","quantile","t","line","slice","markerSize","marker","size","join","path","attrTween","enable","normalizeData","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"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"}