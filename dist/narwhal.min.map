{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","export","ctorName","ctor","Error","prototype","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","remove","extend","visualizations","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","each","visualization","index","id","call","expose","functionality","ctorObj","omit","compose","window","jQuery","merge","array1","array2","length","concat","sort","a","b","extractTickValues","domain","min","max","extractScaleDomain","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","yAxis","labels","format","cartesian","title","oneEm","computeXScale","xDomain","xScaleDomain","xScale","scale","ordinal","rangePoints","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","computeScales","y","axis","tickSize","orient","tickValues","tickFormat","selectAll","axisLabels","datum","d","isObject","x","data","series","Array","datums","map","dataSrc","pluck","set","line","renderer","appendPath","seriesName","replace","g","marker","enable","enter","bind","name","push"],"mappings":"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"}