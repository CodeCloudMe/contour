{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","xAxis","yAxis","tooltip","expose","ctorName","functionality","ctor","extend","omit","call","prototype","export","renderer","sortSeries","data","length","each","shouldSort","isObject","isDate","x","sortFunc","a","b","sort","Error","categories","opt","renderFunc","isArray","datums","nw","normalizeSeries","partial","visualizations","push","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","adjustPadding","adjustTitlePadding","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","visualization","index","layer","compose","window","jQuery","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","orient","labels","min","max","smartAxis","align","format","cartesian","dataSrc","yScaleDomain","extractScaleDomain","yDomain","yLabels","_extractYTickValues","yAxisText","map","join","yLabelBounds","textBounds","xLabelBounds","maxTickSize","titleBounds","title","computeXScale","xDomain","scaleGenerator","xScaleFactory","xScale","scale","rangeBand","computeYScale","rangeSize","rotatedFrame","range","yScale","linear","setYDomain","domain","nice","redrawYAxis","computeScales","axis","tickValues","numTicks","_numYTicks","tickFormat","tickSize","ticks","renderXAxis","y","_xAxisGroup","postProcessAxis","renderYAxis","alignmentOffset","middle","_yAxisGroup","selectAll","renderAxisLabels","titleOneEm","bounds","adjustFactor","text","adjustDomain","datum","d","bind","series","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","extractYStackedDomain","dataSets","maxLength","stackY","j","niceRound","smartAxisValues","adjustedDomain","merge","regularAxisYTicks","smartAxisYTicks","version","helpers","isTimeData","type","TimeScale","LinearScale","OrdinalScale","_scale","_domain","_setRange","getDate","isCategorized","ordinal","_range","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","axisDomain","_getAxisDomain","time","getOptimalTickFormat","maxTicks","customValues","len","step","ceil","axisGroup","formatter","spanDays","daysThreshold","_getAxisRange","rangeRound","linearDomain","extent","size","concat","frame","categoryLabels","xLabel","yLabel","anchor","rotation","lineHeightAdjustment","numberHelpers","ar","roundToNearest","number","multiple","val","stringHelpers","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","visibility","lineHeight","innerHTML","replace","appendChild","res","clientWidth","clientHeight","removeChild","dateHelpers","arrayHelpers","array1","array2","normal","name","i","hasX","hasOwnProperty","hasCategories","v","axisHelpers","dataMax","dataMin","area","stacked","flat","flatten","stackedData","y0","renderSeries","enter","classFn","stack","layout","values","y1","barRender","bar","grouped","numSeries","offset","col","h","column","appendPath","seriesName","seriesIndex","renderAnimatedPath","nonNullData","path","line","transition","duration","attrTween","pathTween","renderSimplePath","renderLineMarkers","markerSize","renderTooltipTrackers","trackerSize","_data","interpolate","quantile","t","slice","filter","marker","renderPath","renderMakers","enable","noop","ScatterPlot","g","radius","scatter","halfRangeBand","valueFormatter","stackTooltip","addClass","onMouseOver","isNull","p","mapFn","isNumber","indexOf","value","cssClass","filtered","html","show","onMouseOut","on","clearHideTimer","clearTimeout","hideTimer","changeOpacity","opacity","delay","animate","tooltipElement","positionTooltip","ev","pageX","pageY","event","pos","hideTime","getTooltipText","visibleOpacity","showTime","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"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"}