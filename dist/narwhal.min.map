{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","tooltip","export","ctorName","renderer","normalizeSeries","data","length","map","bind","series","index","name","datum","sortSeries","each","shouldSort","isObject","isDate","x","sortFunc","a","b","sort","Error","prototype","opt","extend","renderFunc","isArray","datums","call","partial","visualizations","push","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","removeChild","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","visualization","layer","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","labels","yAxis","smartAxis","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","nice","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","tickValues","_extractYTickValues","numTicks","_numYTicks","tickFormat","tickSize","ticks","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","d","categories","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","niceRound","smartAxisValues","adjustedDomain","merge","regularAxisYTicks","smartAxisYTicks","helpers","isTimeData","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","time","extent","getOptimalTickFormat","maxTicks","customValues","len","step","j","ceil","axisGroup","formatter","spanDays","daysThreshold","rangeRound","numberHelpers","ar","roundToNearest","number","multiple","val","arrayHelpers","array1","array2","concat","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","_data","interpolate","quantile","t","line","slice","markerSize","marker","size","trackerSize","join","path","attrTween","enable","normalizeData","visibleOpacity","clearHideTimer","clearTimeout","hideTimer","positionTooltip","ev","pageX","pageY","onMouseOver","event","pos","show","onMouseOut","tooltipElement","getTooltipText","html","on","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"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"}