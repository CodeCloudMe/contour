{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","xAxis","yAxis","tooltip","expose","ctorName","functionality","ctor","extend","omit","call","prototype","export","renderer","sortSeries","data","length","each","shouldSort","isObject","isDate","x","sortFunc","a","b","sort","Error","categories","opt","renderFunc","isArray","datums","nw","normalizeSeries","partial","visualizations","push","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","adjustPadding","adjustTitlePadding","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","visualization","index","layer","compose","window","jQuery","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","orient","labels","min","max","smartAxis","align","format","cartesian","dataSrc","yScaleDomain","extractScaleDomain","yDomain","yLabels","_extractYTickValues","yAxisText","map","join","yLabelBounds","textBounds","xLabelBounds","maxTickSize","titleBounds","title","computeXScale","xDomain","scaleGenerator","xScaleFactory","xScale","scale","rangeBand","computeYScale","rangeSize","rotatedFrame","range","yScale","linear","domain","nice","computeScales","axis","tickValues","numTicks","_numYTicks","tickFormat","tickSize","ticks","renderXAxis","y","_xAxisGroup","postProcessAxis","renderYAxis","alignmentOffset","middle","_yAxisGroup","selectAll","renderAxisLabels","titleOneEm","bounds","adjustFactor","text","adjustDomain","datum","d","bind","series","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","niceRound","smartAxisValues","adjustedDomain","merge","regularAxisYTicks","smartAxisYTicks","version","helpers","isTimeData","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","axisDomain","_getAxisDomain","time","getOptimalTickFormat","maxTicks","customValues","len","step","j","ceil","axisGroup","formatter","spanDays","daysThreshold","_getAxisRange","rangeRound","linearDomain","extent","size","concat","frame","categoryLabels","xLabel","yLabel","anchor","rotation","lineHeightAdjustment","numberHelpers","ar","roundToNearest","number","multiple","val","stringHelpers","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","visibility","lineHeight","innerHTML","replace","appendChild","res","clientWidth","clientHeight","removeChild","dateHelpers","arrayHelpers","array1","array2","normal","name","i","hasX","hasOwnProperty","hasCategories","v","axisHelpers","dataMax","dataMin","classFn","stack","layout","values","enter","bar","y0","h","colWidth","seriesName","col","delay","transition","duration","appendPath","seriesIndex","renderAnimatedPath","nonNullData","path","line","attrTween","pathTween","renderSimplePath","renderLineMarkers","markerSize","renderTooltipTrackers","trackerSize","_data","interpolate","quantile","t","slice","filter","marker","renderPath","renderMakers","enable","noop","valueFormatter","stackTooltip","addClass","onMouseOver","isNull","p","filtered","value","cssClass","html","show","onMouseOut","on","clearHideTimer","clearTimeout","hideTimer","changeOpacity","opacity","animate","tooltipElement","positionTooltip","ev","pageX","pageY","event","pos","hideTime","getTooltipText","visibleOpacity","showTime","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"CAAA,SAAWA,EAAIC,EAAIC,EAAGC,EAAGC,GAmCrB,QAASC,GAAQC,GAEb,MADAC,MAAKC,KAAKF,GACHC,KAnCX,GAAIE,IACAC,OACIC,YAAY,EACZC,aAAc,IACdC,cAAe,EAAI,cACnBC,MAAOV,EACPW,OAAQX,EAERY,QACIC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,GAGVC,SACIJ,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,IAIdE,SAGAC,SAGAC,WAUJnB,GAAQoB,OAAS,SAAUC,EAAUC,GACjC,GAAIC,GAAO,WAMP,MAJA1B,GAAE2B,OAAOtB,KAAML,EAAE4B,KAAKH,EAAe,SAElCA,EAAcnB,MAAMmB,EAAcnB,KAAKuB,KAAKxB,KAAMA,KAAKD,SAEnDC,KAKX,OAFAF,GAAQ2B,UAAUN,GAAYE,EAEvBrB,MAIXF,EAAQ4B,OAAS,SAAUP,EAAUQ,GAIjC,QAASC,GAAWC,GAChB,IAAIA,IAASA,EAAKC,OAAQ,QAEvBD,GAAK,GAAGA,MACPlC,EAAEoC,KAAKF,EAAMD,EAGjB,IAAII,GAAarC,EAAEsC,SAASJ,EAAK,KAAOlC,EAAEuC,OAAOL,EAAK,GAAGM,GACrDC,EAAW,SAAUC,EAAGC,GAAK,MAAOD,GAAEF,EAAIG,EAAEH,EAKhD,OAJGH,IACCH,EAAKU,KAAKH,GAGPP,EAfX,GAAwB,kBAAbF,GAAyB,KAAM,IAAIa,OAAM,+BAAiCrB,EAAW,iBAkBhGrB,GAAQ2B,UAAUN,GAAY,SAAUU,EAAM9B,GAC1C8B,EAAOA,MACPD,EAAWC,GACXF,EAASzB,SAAWyB,EAASzB,YAC7B,IAAIuC,GAAazC,KAAKD,QAAUC,KAAKD,QAAQgB,MAAQf,KAAKD,QAAQgB,MAAM0B,WAAa5C,EAAYA,EAC7F6C,IAGJA,GAAIvB,GAAYvB,EAAE0B,QAAO,KAAUtB,KAAKD,QAAQoB,GAAWpB,GAC3DH,EAAE0B,QAAO,EAAMtB,KAAKD,QAAS4B,EAASzB,SAAUwC,EAEhD,IAAIC,EACJ,IAAIhD,EAAEiD,QAAQf,GAAO,CACjB7B,KAAK6B,KAAKA,EACV,IAAIgB,GAASlD,EAAEmD,GAAGC,gBAAgBlB,EAAMY,EACxCE,GAAahD,EAAEqD,QAAQrB,EAAUkB,OAEjCF,GAAahD,EAAEqD,QAAQrB,EAAUE,EAKrC,OAFA7B,MAAKiD,eAAeC,KAAKP,GAElB3C,OAMfF,EAAQ2B,UAAY9B,EAAE2B,OAAOxB,EAAQ2B,WAEjCxB,KAAM,SAAUF,GAQZ,MAJAC,MAAKD,QAAUA,EAEfC,KAAKiD,kBAEEjD,MAGXmD,eAAgB,WACZ,MAAOC,UAASxD,EAAEI,KAAKD,QAAQsD,IAAI9C,QAAS,KAAOP,KAAKD,QAAQI,MAAME,cAG1EiD,gBAAiB,WACb,GAAIC,GAAkBH,SAASxD,EAAEI,KAAKD,QAAQsD,IAAI7C,SAAU,IACxDgD,EAAYxD,KAAKD,QAAQI,MAAMI,MAC/BkD,EAAQzD,KAAKD,QAAQI,MAAMuD,QAAU1D,KAAKD,QAAQI,MAAMG,aAE5D,OAASiD,GAAmBA,EAAkBI,KAAKC,MAAMJ,EAAYC,IAGzEI,YAAa,WACT,GAAI9D,GAAUC,KAAKD,OAEnBC,MAAK8D,gBAEL9D,KAAK+D,qBAELhE,EAAQI,MAAMI,MAAQR,EAAQI,MAAMI,OAASP,KAAKmD,iBAClDpD,EAAQI,MAAMK,OAAST,EAAQI,MAAMK,QAAUR,KAAKsD,kBAEpDtD,KAAKD,QAAUH,EAAE0B,QAAO,EAAMvB,GAC1BI,OACI6D,UAAWjE,EAAQI,MAAMI,MAAQR,EAAQI,MAAMM,OAAOI,KAAOd,EAAQI,MAAMM,OAAOE,MAAQZ,EAAQI,MAAMW,QAAQD,KAAOd,EAAQI,MAAMW,QAAQH,MAC7IsD,WAAYlE,EAAQI,MAAMK,OAAST,EAAQI,MAAMM,OAAOC,IAAMX,EAAQI,MAAMM,OAAOG,OAASb,EAAQI,MAAMW,QAAQJ,IAAMX,EAAQI,MAAMW,QAAQF,WAK1JkD,cAAe,WAEX,MAAO9D,OAGX+D,mBAAoB,WAEhB,MAAO/D,OAGXkE,eAAgB,WAEZlE,KAAKD,QAAUH,EAAE0B,QAAO,KAAUpB,EAAUF,KAAKD,UAGrDoE,WAAY,WAGR,MAFAnE,MAAKoE,WAEEpE,MAGXqE,OAAQ,WASJ,MARArE,MAAKkE,iBAELlE,KAAK6D,cAEL7D,KAAKmE,aAELnE,KAAKsE,uBAEEtE,MAGXoE,SAAU,WAEN,GAAIG,GAAWvE,KAAKD,QAAQI,KAa5B,OAXAH,MAAKwE,UAAY9E,EAAG+E,OAAOzE,KAAKD,QAAQsD,IAExCrD,KAAK0E,IAAM1E,KAAKwE,UACXG,OAAO,OACHC,KAAK,UAAW,OAASL,EAAShE,MAAQ,IAAMgE,EAAS/D,QACzDoE,KAAK,sBAAuB,YAC5BA,KAAK,QAAS,iBACdA,KAAK,SAAUL,EAAS/D,QAC5BmE,OAAO,KACHC,KAAK,YAAa,aAAeL,EAAS9D,OAAOI,KAAO,IAAM0D,EAAS9D,OAAOC,IAAM,KAEtFV,MAGX6E,yBAA0B,SAAUC,GAChC,MAAO9E,MAAK0E,IAAIC,OAAO,KAClBC,KAAK,SAAUE,GACfF,KAAK,YAAa,aAAe5E,KAAKD,QAAQI,MAAMW,QAAQD,KAAO,IAAMb,KAAKD,QAAQI,MAAMW,QAAQJ,IAAM,MAGnH4D,qBAAsB,WAOlB,MANA3E,GAAEoC,KAAK/B,KAAKiD,eAAgB,SAAU8B,EAAeC,GACjD,GAAIF,GAAKE,EAAQ,EACbC,EAAQjF,KAAK6E,yBAAyBC,EAC1CC,GAAcvD,KAAKxB,KAAMiF,EAAOjF,KAAKD,QAAS+E,IAC/C9E,MAEIA,MAGXkF,QAAS,aAOTrD,KAAM,eAKVsD,OAAO1F,GAAMK,GAEd,UAAWqF,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1C,SAAW3F,EAAIC,EAAIC,EAAGC,EAAGC,GAErB,GAAIK,IACAC,OACIW,SACIJ,IAAK,EACLE,OAAQ,GACRC,KAAM,EACNF,MAAO,IAIfI,OACIsE,aAAc,EACdC,cAAe,EACfC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,cAAc,EACdC,OAAQ,SACRC,WAIJ5E,OACI6E,IAAK,EACLC,IAAKjG,EACLkG,WAAW,EACXT,cAAe,EACfC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdE,OAAQ,OACRC,QACII,MAAO,SACPC,OAAQ,OAOhBC,GACAC,WAEAlG,KAAM,SAAUF,GAQZ,MANAC,MAAKD,QAAUH,EAAE0B,QAAO,KAAUpB,EAAUH,GAEvCC,KAAKD,QAAQgB,MAAM2E,eACpB1F,KAAKD,QAAQI,MAAMW,QAAQH,OAAS,IAGjCX,MAGX8D,cAAe,WACX,GAAI/D,GAAUC,KAAKD,QAAQiB,MACvBoF,EAAezG,EAAEmD,GAAGuD,mBAAmBrG,KAAKsG,QAASvG,EAAQ8F,IAAK9F,EAAQ+F,KAC1ES,EAAUvG,KAAKwG,oBAAoBJ,EAAcrG,EAAQ8F,IAAK9F,EAAQ+F,OAAS,KAC/EG,EAASvG,EAAGuG,OAAOlG,EAAQ6F,OAAOK,QAClCQ,EAAY9G,EAAE+G,IAAIH,EAASN,GAAQU,KAAK,QACxCC,EAAejH,EAAEmD,GAAG+D,WAAWJ,EAAW,WAC1CK,EAAenH,EAAEmD,GAAG+D,WAAW,MAAO,WACtCE,EAAc,SAAUhH,GAAW,MAAO4D,MAAKmC,IAAI/F,EAAQwF,eAAiB,EAAGxF,EAAQuF,eAAiB,GAE5GtF,MAAKD,QAAQI,MAAMW,QAAQD,KAAOkG,EAAY/G,KAAKD,QAAQiB,QAAUhB,KAAKD,QAAQiB,MAAMwE,aAAe,GAAKoB,EAAarG,MACzHP,KAAKD,QAAQI,MAAMW,QAAQF,OAASmG,EAAY/G,KAAKD,QAAQgB,QAAUf,KAAKD,QAAQgB,MAAMyE,aAAe,GAAKsB,EAAatG,OAAS,GAGxIuD,mBAAoB,WAChB,GAAIiD,IACAhH,KAAKD,QAAQgB,MAAMkG,OAASjH,KAAKD,QAAQiB,MAAMiG,SAC5CjH,KAAKD,QAAQgB,MAAMkG,QAClBD,EAAcrH,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQgB,MAAMkG,MAAO,iBACxDjH,KAAKD,QAAQI,MAAMW,QAAQF,QAAUoG,EAAYxG,OAASR,KAAKD,QAAQgB,MAAM0E,cAG9EzF,KAAKD,QAAQiB,MAAMiG,QAClBD,EAAcrH,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQiB,MAAMiG,MAAO,iBACxDjH,KAAKD,QAAQI,MAAMW,QAAQD,MAAQmG,EAAYxG,OAASR,KAAKD,QAAQiB,MAAMyE,gBAKvFyB,cAAe,WACX,IAAKlH,KAAKmH,QAAS,KAAM,IAAI3E,OAAM,2DAEnCxC,MAAKoH,eAAiBzH,EAAEmD,GAAGuE,cAAcrH,KAAKmG,QAASnG,KAAKD,SAC5DC,KAAKsH,OAAStH,KAAKoH,eAAeG,MAAMvH,KAAKmH,SAC7CnH,KAAKwH,UAAYxH,KAAKoH,eAAeI,aAGzCC,cAAe,WACX,IAAKzH,KAAKsG,QAAS,KAAM,IAAI9D,OAAM,2DACnC,IAAI4D,GAAezG,EAAEmD,GAAGuD,mBAAmBrG,KAAKsG,QAAStG,KAAKD,QAAQiB,MAAM6E,IAAK7F,KAAKD,QAAQiB,MAAM8E,KAChG4B,EAAY1H,KAAKD,QAAQI,MAAMwH,aAAe3H,KAAKD,QAAQI,MAAM6D,UAAYhE,KAAKD,QAAQI,MAAM8D,WAChG2D,EAAQ5H,KAAKD,QAAQI,MAAMwH,cAAgB,EAAGD,IAAcA,EAAW,EAE3E1H,MAAK6H,OAASnI,EAAG6H,MAAMO,SAClBC,OAAO3B,GACPwB,MAAMA,GAGN5H,KAAKD,QAAQiB,MAAM+E,WACpB/F,KAAK6H,OAAOG,QAGpBC,cAAe,WAIX,MAHAjI,MAAKkH,gBACLlH,KAAKyH,gBAEEzH,MAGXe,MAAO,WACH,MAAOf,MAAKoH,eAAec,OAAOvC,OAAO3F,KAAKD,QAAQgB,MAAM4E,SAGhE3E,MAAO,WACH,GAAIjB,GAAUC,KAAKD,QAAQiB,MACvBmH,EAAanI,KAAKwG,oBAAoBxG,KAAKsG,QAASvG,EAAQ8F,IAAK9F,EAAQ+F,KACzEsC,EAAWpI,KAAKqI,WAAWrI,KAAKsG,QAASvG,EAAQ8F,IAAK9F,EAAQ+F,KAC9DG,EAASvG,EAAGuG,OAAOlG,EAAQ6F,OAAOK,QAClCN,EAAS5F,EAAQ4F,MAErB,OAAQjG,GAAGgF,IAAIwD,OACVX,MAAMvH,KAAK6H,QACXS,WAAWrC,GACXsC,SAASxI,EAAQuF,cAAevF,EAAQwF,eACxCC,YAAYzF,EAAQyF,aACpBG,OAAOA,GACP6C,MAAMJ,GACND,WAAWA,IAGpBM,YAAa,WACT,GAAI1H,GAAQf,KAAKe,QACb2H,EAAI1I,KAAKD,QAAQI,MAAM8D,WAAajE,KAAKD,QAAQI,MAAMW,QAAQJ,GASnE,OARAV,MAAK2I,YAAc3I,KAAK0E,IACnBC,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAe5E,KAAKD,QAAQI,MAAMW,QAAQD,KAAO,IAAM6H,EAAI,KAC7ElH,KAAKT,GAEVf,KAAKoH,eAAewB,gBAAgB5I,KAAK2I,aAElC3I,MAGX6I,YAAa,WACT,GAAI9I,GAAUC,KAAKD,QAAQiB,MACvB8H,GAAoBpI,IAAK,OAAQqI,OAAQ,QAASnI,OAAQ,KAC1DuB,EAAInC,KAAKD,QAAQI,MAAMW,QAAQD,KAC/B6H,EAAI1I,KAAKD,QAAQI,MAAMW,QAAQJ,IAC/BM,EAAQhB,KAAKgB,OAYjB,OAVAhB,MAAKgJ,YAAchJ,KAAK0E,IACnBC,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAezC,EAAI,IAAMuG,EAAI,KAC/ClH,KAAKR,GAEVhB,KAAKgJ,YACAC,UAAU,QACNrE,KAAK,KAAMkE,EAAgB/I,EAAQ6F,OAAOI,QAE5ChG,MAGXkJ,iBAAkB,WAC+B,IAAlBlJ,KAAKmJ,UAChC,IACIC,GAAQjH,EAAGuG,EADXW,EAAe,GAAG,MAGlBrJ,MAAKD,QAAQgB,MAAMkG,QACnBmC,EAASzJ,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQgB,MAAMkG,MAAO,iBACnDyB,EAAI1I,KAAKD,QAAQI,MAAMW,QAAQF,OAC/BuB,EAAI,EACJnC,KAAK2I,YAAYhE,OAAO,QACnBC,KAAK,QAAS,gBACdA,KAAK,IAAKzC,GACVyC,KAAK,IAAK8D,GACV9D,KAAK,MAAO5E,KAAKD,QAAQI,MAAM6D,UAAYoF,EAAO7I,OAAS,GAC3DqE,KAAK,KAAM,IACX0E,KAAKtJ,KAAKD,QAAQgB,MAAMkG,QAG7BjH,KAAKD,QAAQiB,MAAMiG,QACnBmC,EAASzJ,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQiB,MAAMiG,MAAO,iBACnDyB,GAAK1I,KAAKD,QAAQI,MAAMW,QAAQD,KAAOuI,EAAO5I,OAAS6I,EACvDlH,EAAI,EACJnC,KAAKgJ,YAAYrE,OAAO,QACnBC,KAAK,QAAS,gBACdA,KAAK,YAAa,eAClBA,KAAK,IAAKzC,GACVyC,KAAK,IAAK8D,GACV9D,KAAK,OAAQ5E,KAAKD,QAAQI,MAAM8D,WAAamF,EAAO7I,OAAS,GAC7DqE,KAAK,KAAM,GACX0E,KAAKtJ,KAAKD,QAAQiB,MAAMiG,SAIrC5C,OAAQ,WAiBJ,MAhBArE,MAAKkE,iBAELlE,KAAKuJ,eAELvJ,KAAK6D,cAEL7D,KAAKiI,gBAELjI,KAAKmE,aAELnE,KAAKyI,cACAI,cACAK,mBAELlJ,KAAKsE,uBAEEtE,MAGXwJ,MAAO,SAAUC,EAAGzE,GAChB,MAAGrF,GAAEsC,SAASwH,IAAM9J,EAAEiD,QAAQ6G,EAAE5H,MACrBlC,EAAE+G,IAAI+C,EAAE5H,KAAMlC,EAAE+J,KAAK1J,KAAKwJ,MAAOxJ,QAGxC0I,EAAG/I,EAAEsC,SAASwH,GAAKA,EAAEf,EAAIe,EACzBtH,EAAGxC,EAAEsC,SAASwH,GAAKA,EAAEtH,EAAInC,KAAKD,QAAQgB,MAAM0B,WAAazC,KAAKD,QAAQgB,MAAM0B,WAAWuC,GAASA,IAIxGnD,KAAM,SAAU8H,GAEZ,MAAIA,aAAkBC,SAAUD,EAAO7H,OAC5B9B,MACA2J,YAAkBC,SAAUD,EAAO,GAAG9H,MAC7C7B,KAAKmG,QAAUxG,EAAE+G,IAAIiD,EAAQhK,EAAE+J,KAAK1J,KAAKwJ,MAAOxJ,OAChDA,KAAKmH,QAAUnH,KAAK6J,eAAe7J,KAAKmG,SACxCnG,KAAKsG,QAAUtG,KAAK8J,eAAe9J,KAAKmG,SACxCnG,KAAK+J,KAAO/J,KAAKgK,gBAAgBhK,KAAKmG,SACtCnG,KAAKiK,KAAOjK,KAAKkK,gBAAgBlK,KAAKmG,UAC/BwD,YAAkBC,QAASD,EAAO,GAAG9H,MAE5ClC,EAAEoC,KAAK4H,EAAQ,SAAUQ,GAAOnK,KAAK6B,KAAKsI,EAAItI,OAAU7B,MAGrDA,OAGXgK,gBAAiB,SAAUnH,GACvB,MAAOc,MAAKmC,IAAI9F,KAAK+J,MAAQ,EAAGpK,EAAEmG,IAAInG,EAAEyK,MAAMvH,EAAQ,QAG1DqH,gBAAiB,SAAUrH,GACvB,MAAOc,MAAKkC,IAAI7F,KAAKiK,MAAQ,EAAGtK,EAAEkG,IAAIlG,EAAEyK,MAAMvH,EAAQ,QAG1DgH,eAAgB,SAAShH,GACrB,MAAQ7C,MAAKD,QAAQgB,MAAM0B,WAAazC,KAAKD,QAAQgB,MAAM0B,WAAa9C,EAAEyK,MAAMvH,EAAQ,MAG5FiH,eAAgB,SAAUjH,GACtB,GAAIiD,GAAM9F,KAAKsG,QAAU3C,KAAKmC,IAAI9F,KAAKsG,QAAQ,GAAI3G,EAAEmG,IAAInG,EAAEyK,MAAMvH,EAAQ,OAASlD,EAAEmG,IAAInG,EAAEyK,MAAMvH,EAAQ,MACpGgD,EAAM7F,KAAKsG,QAAU3C,KAAKkC,IAAI7F,KAAKsG,QAAQ,GAAI3G,EAAEkG,IAAIlG,EAAEyK,MAAMvH,EAAQ,OAASlD,EAAEkG,IAAIlG,EAAEyK,MAAMvH,EAAQ,KAExG,QAAQgD,EAAKC,IAGjByD,aAAc,WACVvJ,KAAKsG,QAAUtG,KAAKsG,QAAUtG,KAAKD,QAAQiB,MAAM+E,WAAa/F,KAAKsG,QAAQ,GAAI3G,EAAEmD,GAAGuH,UAAUrK,KAAKsG,QAAQ,KAAOtG,KAAKsG,SAAW,EAAG,IACrItG,KAAKmH,QAAUnH,KAAKmH,QAAUnH,KAAKmH,YAGvCX,oBAAqB,SAAUuB,EAAQlC,EAAKC,GAExC,QAASwE,KACL,GAAIC,GAAiB5K,EAAEmD,GAAG0H,MAAMzC,EAAQ/H,KAAK+J,KAI7C,OAAW,OAAPlE,GAAsB,MAAPC,EACRyE,EAEA,MAAP1E,EACOC,EAAM9F,KAAKiK,KAAOtK,EAAEmD,GAAG0H,OAAO1E,GAAMyE,IAAmBzE,GAGvD,MAAPA,EACID,GAAO7F,KAAK+J,MAAclE,IAC9B0E,EAAe,GAAK1E,EAEb0E,GAGJ5K,EAAEmD,GAAG0H,OAAO3E,EAAKC,GAAM9F,KAAK+J,MAGvC,MAAO/J,MAAKD,QAAQiB,MAAM+E,UAAYuE,EAAgB9I,KAAKxB,MAAQH,GAGvEwI,WAAY,WACR,QAASoC,KACL,MAAmC,OAA5BzK,KAAKD,QAAQiB,MAAMwH,MAAgBxI,KAAKD,QAAQiB,MAAMwH,MAAQ3I,EAGzE,QAAS6K,KACL,MAAO,GAGX,MAAO1K,MAAKD,QAAQiB,MAAM+E,UAAY2E,EAAgBlJ,KAAKxB,MAAQyK,EAAkBjJ,KAAKxB,OAKlGF,SAAQoB,OAAO,YAAagF,IAE7B,UAAWf,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1CtF,QAAQ6K,QAAU,SAClB,SAAWlL,EAAIC,EAAIC,GAEf,GAAIiL,IACAvD,cAAe,SAAUxF,EAAM9B,GAO3B,GAAI8K,GAAalL,EAAEiD,QAAQf,IAASA,EAAKC,OAAS,GAAKD,EAAK,GAAGA,KAC3DA,EAAK,GAAGA,KAAK,GAAGM,GAAKxC,EAAEuC,OAAOL,EAAK,GAAGA,KAAK,GAAGM,GAC9CxC,EAAEiD,QAAQf,IAASA,EAAKC,OAAS,GAAKD,EAAK,GAAGM,GAAKxC,EAAEuC,OAAOL,EAAK,GAAGM,EAExE,OAAO0I,IAAqC,YAAvB9K,EAAQgB,MAAM+J,KAAqB,GAAInL,GAAEmD,GAAGiI,UAAUlJ,EAAM9B,GAAW,GAAIJ,GAAEmD,GAAGkI,aAAanJ,EAAM9B,IAKhIJ,GAAEmD,GAAKnD,EAAE2B,UAAW3B,EAAEmD,GAAI8H,IAE3B,UAAWzF,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1C,SAAW3F,EAAIC,EAAIC,GAaf,QAASqL,GAAanJ,EAAM9B,GACxBC,KAAKD,QAAUA,EACfC,KAAK6B,KAAOA,EAEZ7B,KAAKC,OAGT+K,EAAavJ,WACTxB,KAAM,WACFD,KAAKiL,eAAgB,QACdjL,MAAKkL,QAGhB3D,MAAO,SAAUQ,GAQb,MAPA/H,MAAKmL,QAAUpD,EACX/H,KAAKkL,SACLlL,KAAKkL,QAAS,GAAIxL,GAAG6H,MAAM6D,SAAUrD,OAAOA,GAE5C/H,KAAK4H,SAGF5H,KAAKkL,QAGhBhD,KAAM,WACF,GAAInI,GAAUC,KAAKD,QAAQgB,MACvBmH,EAAOxI,EAAGgF,IAAIwD,OACbX,MAAMvH,KAAKkL,QACX5F,cAAcvF,EAAQuF,eACtBC,cAAcxF,EAAQwF,eACtBC,YAAYzF,EAAQyF,aACpB2C,WAAWnI,KAAKD,QAAQgB,MAAM0B,YAC9B6F,WAAW,SAAUmB,GAClB,MAAO9J,GAAEuC,OAAOuH,GAAKA,EAAE4B,UAAY5B,GAQ3C,OALIzJ,MAAKD,QAAQgB,MAAM2E,cAEnBwC,EAAKC,WAAWxI,EAAEmD,GAAG4C,aAAa1F,KAAKmL,UAGpCjD,GAGXU,gBAAiB,aAGjBpB,UAAW,WACP,MAAOxH,MAAKkL,OAAO1D,aAGvBI,MAAO,WACH,GAAIA,GAAQ5H,KAAKD,QAAQI,MAAMwH,cAAgB3H,KAAKD,QAAQI,MAAM8D,WAAY,IAAM,EAAGjE,KAAKD,QAAQI,MAAM6D,UAC1G,OAAOhE,MAAKiL,cACRjL,KAAKkL,OAAOI,gBAAgB1D,EAAO,IACnC5H,KAAKkL,OAAOK,YAAY3D,KAIpCjI,EAAEmD,GAAKnD,EAAE2B,UAAW3B,EAAEmD,IAAMkI,aAAcA,KAE3C,UAAW7F,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1C,SAAW3F,EAAIC,EAAIC,EAAGC,GAWlB,QAAS4L,GAASC,EAAIC,GAClB,GAAIC,GAAOF,EAAGG,UAAYF,EAAGE,SAC7B,OAAOD,GAAO,MAIlB,QAASZ,GAAUlJ,EAAM9B,GACrBC,KAAKD,QAAUA,EACfC,KAAK6B,KAAOA,EAEZ7B,KAAKC,OAGT8K,EAAUtJ,WACNxB,KAAM,iBACKD,MAAKkL,QAGhB3D,MAAO,SAAUQ,GACb/H,KAAKmL,QAAUpD,CACf,IAAI8D,GAAa7L,KAAK8L,eAAe/D,EAQrC,OAPI/H,MAAKkL,SACLlL,KAAKkL,QAAS,GAAIxL,GAAGqM,KAAKxE,OACrBQ,OAAO8D,GAEZ7L,KAAK4H,SAGF5H,KAAKkL,QAIhBhD,KAAM,WACF,GAAInI,GAAUC,KAAKD,QAAQgB,MACvBuH,EAAatI,KAAKgM,uBAElB9D,EAAOxI,EAAGgF,IAAIwD,OACbX,MAAMvH,KAAKkL,QACX5C,WAAWA,GACXC,SAASxI,EAAQuF,cAAevF,EAAQwF,eACxCC,YAAYzF,EAAQyF,aACpB2C,WAAWnI,KAAKmL,QAErB,IAAmC,MAA/BnL,KAAKD,QAAQgB,MAAMkL,UAAoBjM,KAAKD,QAAQgB,MAAMkL,SAAWjM,KAAKmL,QAAQrJ,OAAQ,CAO1F,IAAK,GAJDoK,MACAC,EAAMnM,KAAKmL,QAAQrJ,OACnBsK,GAAQD,EAAM,GAAKnM,KAAKD,QAAQgB,MAAMkL,SAEjCI,EAAE,EAAGrH,EAAQ,EAAKmH,EAAFE,EAAOA,GAAKD,EAAMpH,GAASoH,EAChDF,EAAahJ,KAAKlD,KAAKmL,QAAQxH,KAAKkC,IAAIlC,KAAK2I,KAAKtH,GAAQmH,EAAI,IAGlEjE,GAAKC,WAAW+D,OAETlM,MAAKD,QAAQgB,MAAM2E,cAE1BwC,EAAKC,WAAWxI,EAAEmD,GAAG4C,aAAa1F,KAAKmL,SAG3C,OAAOjD,IAGXU,gBAAiB,SAAU2D,GACvB,GAAKvM,KAAKD,QAAQgB,MAAM2E,aAAxB,CACA,GAAIE,GAAS2G,EAAUtD,UAAU,cAAc,EAC/CrJ,GAAEgG,EAAO,IAAIhB,KAAK,QAAS,sBAC3BhF,EAAEgG,EAAOA,EAAO9D,OAAS,IAAI8C,KAAK,QAAS,sBAG/C4C,UAAW,WACP,MAAO,IAGXwE,qBAAsB,WAClB,GAAIhM,KAAKD,QAAQgB,MAAM6E,OAAO4G,UAAW,MAAOxM,MAAKD,QAAQgB,MAAM6E,OAAO4G,SAE1E,IAAIC,GAAWjB,EAASxL,KAAKmL,QAAQnL,KAAKmL,QAAQrJ,OAAO,GAAI9B,KAAKmL,QAAQ,IACtEuB,EAAgB1M,KAAKD,QAAQgB,MAAMkL,UAAY,CACnD,OAAeS,GAAXD,EAAiC/M,EAAGqM,KAAK9F,OAAO,SAE7CvG,EAAGqM,KAAK9F,OAAO,UAG1B2B,MAAO,WACH,GAAIA,GAAQ5H,KAAK2M,cAAc3M,KAAKmL,QACpC,OAAOnL,MAAKkL,OAAO0B,WAAWhF,EAAO,KAIzCkE,eAAgB,SAAU/D,GACtB,MAAG/H,MAAKD,QAAQgB,MAAM8L,aACX9E,EAGJrI,EAAGoN,OAAO/E,IAGrB4E,cAAe,SAAU5E,GACrB,GAAIgF,GAAO/M,KAAKD,QAAQI,MAAMwH,aAAe3H,KAAKD,QAAQI,MAAM8D,WAAajE,KAAKD,QAAQI,MAAM6D,SAEhG,OAAGhE,MAAKD,QAAQgB,MAAM8L,aACXlN,EAAEiI,MAAM,EAAGmF,EAAMA,GAAQhF,EAAOjG,OAAS,IAAIkL,QAAQD,KAGxD,EAAGA,KAInBpN,EAAEmD,GAAKnD,EAAE2B,UAAW3B,EAAEmD,IAAMiI,UAAWA,KAExC,UAAW5F,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1C,SAAWD,GACP,GAAIxF,GAAIwF,EAAOxF,EACXO,GACAC,OACIwH,cAAc,GAGlB5G,OACI4E,OAAQ,QAGZ3E,OACI2E,OAAQ,WAIZsH,GAEAhN,KAAM,WACFL,EAAE0B,QAAO,EAAMtB,KAAKD,QAASG,IAGjC4D,cAAe,WAEX,GAAIoJ,GAAiBlN,KAAKD,QAAQgB,MAAM0B,YAAc9C,EAAEyK,MAAMpK,KAAKmG,QAAS,KACxEmD,EAAO4D,EAAevG,KAAK,QAC3BwG,EAASxN,EAAEmD,GAAG+D,WAAWyC,EAAM,WAC/B8D,EAASzN,EAAEmD,GAAG+D,WAAW,MAAO,WAChCE,EAAc,SAAUhH,GAAW,MAAO4D,MAAKmC,IAAI/F,EAAQwF,cAAexF,EAAQuF,eAEtFtF,MAAKD,QAAQI,MAAMW,QAAQD,KAAOkG,EAAY/G,KAAKD,QAAQgB,OAASf,KAAKD,QAAQgB,MAAMyE,YAAc2H,EAAO5M,MAC5GP,KAAKD,QAAQI,MAAMW,QAAQF,OAASmG,EAAY/G,KAAKD,QAAQiB,OAAShB,KAAKD,QAAQiB,MAAMwE,YAAc4H,EAAO5M,QAGlHuD,mBAAoB,WAChB,GAAIiD,IACAhH,KAAKD,QAAQgB,MAAMkG,OAASjH,KAAKD,QAAQiB,MAAMiG,SAC5CjH,KAAKD,QAAQgB,MAAMkG,QAClBD,EAAcrH,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQgB,MAAMkG,MAAO,iBACxDjH,KAAKD,QAAQI,MAAMW,QAAQD,MAAQmG,EAAYxG,OAASR,KAAKD,QAAQgB,MAAM0E,cAG5EzF,KAAKD,QAAQiB,MAAMiG,QAClBD,EAAcrH,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQiB,MAAMiG,MAAO,iBACxDjH,KAAKD,QAAQI,MAAMW,QAAQF,QAAUoG,EAAYxG,OAASR,KAAKD,QAAQiB,MAAMyE,gBAMzFoD,YAAa,WACT,GAAI7H,GAAQhB,KAAKgB,QACbmB,EAAInC,KAAKD,QAAQI,MAAMW,QAAQD,KAC/B6H,EAAI1I,KAAKD,QAAQI,MAAMW,QAAQJ,IAAMV,KAAKD,QAAQI,MAAM8D,UAO5D,OALAjE,MAAKgJ,YAAchJ,KAAK0E,IAAIC,OAAO,KAC9BC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAezC,EAAG,IAAMuG,EAAI,KAC9ClH,KAAKR,GAEHhB,MAGXyI,YAAa,WACT,GAAItG,GAAInC,KAAKD,QAAQI,MAAMW,QAAQD,KAC/B6H,EAAI1I,KAAKD,QAAQI,MAAMW,QAAQJ,IAC/BK,EAAQf,KAAKe,OAUjB,OARAf,MAAK2I,YAAc3I,KAAK0E,IACnBC,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAezC,EAAI,IAAMuG,EAAI,KAC/ClH,KAAKT,GAEVf,KAAKoH,eAAewB,gBAAgB5I,KAAK2I,aAElC3I,MAGXkJ,iBAAkB,WACd,GAGIE,GAAQiE,EAAQC,EAAU/E,EAAUpG,EAAGuG,EAHvC6E,EAAyC,IAAlBvN,KAAKmJ,WAC5BE,EAAe,GAAG,MAIlBrJ,MAAKD,QAAQgB,MAAMkG,QACnBmC,EAASzJ,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQgB,MAAMkG,MAAO,iBACnD9E,EAAInC,KAAKD,QAAQI,MAAMwH,cAAgByB,EAAO5I,OAASR,KAAKD,QAAQI,MAAM6D,UAC1E0E,EAAI1I,KAAKD,QAAQI,MAAMwH,cAAgB3H,KAAKD,QAAQI,MAAMW,QAAQD,KAAOb,KAAKD,QAAQI,MAAMW,QAAQF,OAAS2M,EAE7GD,EAAWtN,KAAKD,QAAQI,MAAMwH,aAAe,MAAQ,IACrD3H,KAAK2I,YAAYhE,OAAO,QACnBC,KAAK,QAAS,gBACdA,KAAK,IAAK,GACVA,KAAK,IAAK8D,GACV9D,KAAK,aAAc,UAAW0I,EAAU,KAAK3G,KAAK,KAClD/B,KAAK,KAAMwE,EAAO5I,OAAS6I,GAC3BzE,KAAK,OAAQ5E,KAAKD,QAAQI,MAAM8D,WAAamF,EAAO7I,OAAS,GAC7D+I,KAAKtJ,KAAKD,QAAQgB,MAAMkG,QAG7BjH,KAAKD,QAAQiB,MAAMiG,QACnBmC,EAASzJ,EAAEmD,GAAG+D,WAAW7G,KAAKD,QAAQiB,MAAMiG,MAAO,iBACnDsB,EAAW5E,KAAKmC,IAAI9F,KAAKD,QAAQiB,MAAMsE,cAAetF,KAAKD,QAAQiB,MAAMuE,eACzE8H,EAASrN,KAAKD,QAAQI,MAAMwH,aAAe,MAAQ,SACnDxF,EAAInC,KAAKD,QAAQI,MAAMwH,aAAe3H,KAAKD,QAAQI,MAAM6D,UAAY,EACrE0E,EAAI1I,KAAKD,QAAQI,MAAMwH,aACnB3H,KAAKD,QAAQI,MAAMW,QAAQF,QAC1BZ,KAAKD,QAAQI,MAAMW,QAAQD,KAAOb,KAAKmJ,WAAaoE,EAEzDD,EAAWtN,KAAKD,QAAQI,MAAMwH,aAAe,IAAM,MAEnD3H,KAAKgJ,YAAYrE,OAAO,QACnBC,KAAK,QAAS,gBACdA,KAAK,IAAK8D,GACV9D,KAAK,IAAKzC,GACVyC,KAAK,OAAQ5E,KAAKD,QAAQI,MAAM6D,UAAYoF,EAAO7I,OAAS,GAC5DqE,KAAK,KAAM,IACXA,KAAK,aAAc,UAAW0I,EAAU,KAAK3G,KAAK,KAClD2C,KAAKtJ,KAAKD,QAAQiB,MAAMiG,SAKzC9B,GAAOrF,QAAQoB,OAAO,aAAc+L,IAErC9H,QAEH,SAAW1F,EAAIC,EAAIC,GAEf,GAAI6N,IACA9H,aAAc,SAAU+H,GACpB,OAAQA,EAAG,GAAIA,EAAGA,EAAG3L,OAAO,KAGhC4L,eAAgB,SAAUC,EAAQC,GAC9B,MAAOjK,MAAK2I,KAAKqB,EAASC,GAAYA,GAG1CvD,UAAW,SAAUwD,GAEjB,MAAOlK,MAAK2I,KAAW,IAANuB,KAarBC,GAEAjH,WAAY,SAAUyC,EAAMyE,GACxB,GAAIC,GAAOC,SAASC,qBAAqB,QAAQ,GAC7CC,EAAUF,SAASG,cAAc,QACjCC,EAAQJ,SAASG,cAAc,OACnCD,GAAQG,UAAY,gBACpBD,EAAME,MAAMC,SAAW,WACvBH,EAAME,MAAMhO,MAAQ,OACpB8N,EAAME,MAAM/N,OAAS,OACrB6N,EAAME,MAAME,WAAa,SACzBJ,EAAME,MAAMG,WAAa,OAEzBL,EAAMM,UAAYrF,EAClB+E,EAAMC,UAAYP,EAAIa,QAAQ,MAAO,KACrCT,EAAQU,YAAYR,GACpBL,EAAKa,YAAYV,EACjB,IAAIW,IAAQvO,MAAO8N,EAAMU,YAAavO,OAAQ6N,EAAMW,aAGpD,OAFAb,GAAQc,YAAYZ,GACpBL,EAAKiB,YAAYd,GACVW,IAIXI,GACA1D,SAAU,SAASC,EAAIC,GACnB,GAAIC,GAAOF,EAAGG,UAAYF,EAAGE,SAC7B,OAAOD,GAAO,QAIlBwD,GAGA3E,MAAO,SAAU4E,EAAQC,GAGrB,MAFsB,gBAAb,KAAuBD,GAAUA,IACpB,gBAAb,KAAuBC,GAAUA,IACtCD,GAAWA,EAAOtN,OAClBuN,GAAWA,EAAOvN,UAEZkL,OAAOoC,EAAQC,GAAQ9M,KAAK,SAAUF,EAAEC,GAAK,MAAOD,GAAEC,IAF3B8M,EADAC,GAQzCtM,gBAAiB,SAAUlB,EAAMY,GAC7B,QAAS6M,GAAOnF,EAAKoF,GACjB,OACIA,KAAMA,EACN1N,KAAMlC,EAAE+G,IAAIyD,EAAK,SAAUV,EAAG+F,GAC1B,GAAIC,GAAY,MAALhG,GAAaA,EAAEiG,eAAe,KACrCC,EAAgBlN,GAAc9C,EAAEiD,QAAQH,GACxCoL,EAAM,SAAU+B,GAAK,MAAY,OAALA,EAAYA,EAAI,KAChD,OAAOH,IAAStN,EAAGsH,EAAEtH,EAAGuG,EAAGmF,EAAIpE,EAAEf,KAASvG,EAAGwN,EAAgBlN,EAAW+M,GAAKA,EAAG9G,EAAGmF,EAAIpE,OAKnG,MAAI9J,GAAEiD,QAAQf,GACLlC,EAAEsC,SAASJ,EAAK,KAAOA,EAAK,GAAG6N,eAAe,SAAY/P,EAAEiD,QAAQf,EAAK,IAEnElC,EAAE+G,IAAI7E,EAAM,SAAU4H,EAAG+F,GAAK,MAAOF,GAAO7F,EAAE5H,KAAO4H,EAAE5H,KAAO4H,EAAGA,EAAE8F,KAAO9F,EAAE8F,KAAO,WAAaC,EAAE,OAGjGF,EAAOzN,EAAM,aAN7B,SAaJgO,GAEAxJ,mBAAoB,SAAU0B,EAAQlC,EAAKC,GACvC,GAAIgK,GAAUnQ,EAAEmG,IAAIiC,GAChBgI,EAAUpQ,EAAEkG,IAAIkC,EAIpB,OAAW,OAAPlC,GAAsB,MAAPC,GACPiK,EAASD,GAGV,MAAPjK,GACQlC,KAAKkC,IAAIkK,EAASjK,GAAMA,GAGzB,MAAPA,GACQD,EAAKlC,KAAKmC,IAAID,EAAKiK,KAGvBjK,EAAKC,IAIrBnG,GAAEmD,GAAKnD,EAAE2B,UAAW3B,EAAEmD,GAAI0K,EAAe2B,EAAcrB,EAAeoB,EAAaW,IAEpF,UAAW1K,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1C,WAEItF,QAAQ4B,OAAO,MAAO,SAAmBG,EAAMoD,GAC3C,GAAIqC,GAAStH,KAAKsH,OACdO,EAAS7H,KAAK6H,OACdL,EAAYxH,KAAKwH,UACjBwI,EAAU,SAAUvG,EAAG+F,GAAK,MAAO,aAAeA,EAAE,GAAK,IAAM/F,EAAE8F,MACjEU,EAAQvQ,GAAGwQ,OAAOD,QAAQE,OAAO,SAAU1G,GAAK,MAAOA,GAAE5H,OAEzD8H,EAAS1E,EAAMgE,UAAU,YACpBpH,KAAKoO,EAAMpO,IACXuO,QAAQzL,OAAO,SACXC,KAAK,QAASoL,GAEvBK,EAAM1G,EAAOV,UAAU,QAClBpH,KAAK,SAAU4H,GAAK,MAAOA,GAAE5H,MAEtCwO,GAAID,QAAQzL,OAAO,QACdC,KAAK,QAAS,uBACdA,KAAK,IAAK,SAAU6E,GAAK,MAAOnC,GAAOmC,EAAEtH,KACzCyC,KAAK,SAAU4C,GACf5C,KAAK,IAAK,SAAU6E,GAAK,MAAO5B,GAAO4B,EAAE6G,IAAM,KAC/C1L,KAAK,QAAS,SAAU6E,GAAK,MAAO5B,GAAO4B,EAAEf,QAGvDvD,QAEH,WAKI,QAASd,GAAOxC,EAAMoD,EAAOlF,EAAS+E,GAClC,GAAIyL,GAAIvQ,KAAKD,QAAQI,MAAM8D,WACvB9B,EAAInC,KAAKsH,OACToB,EAAI1I,KAAK6H,OACT2I,EAAWxQ,KAAKwH,UAChB3B,EAAM7F,KAAKD,QAAQiB,MAAM6E,KAAO7F,KAAKiK,KAGrCN,EAAS9H,EAAK,GACd4O,EAAaA,EAEbC,EAAMzL,EAAMgE,UAAU,WACrBpH,KAAK8H,EAAO9H,KASjB,IAPA6O,EAAIN,QAAQzL,OAAO,QACVC,KAAK,QAAS,YAAaE,EAAK,QAAU2L,GAC1C7L,KAAK,IAAK,SAAU6E,GAAK,MAAOtH,GAAEsH,EAAEtH,KACpCyC,KAAK,IAAK,WAAc,MAAO8D,GAAE7C,KACjCjB,KAAK,SAAU,GACfA,KAAK,QAAS,WAAc,MAAO4L,KAExCxQ,KAAKD,QAAQI,MAAMC,WAAY,CAC/B,GAAIuQ,GAAQ,CACZD,GAAIE,aAAaD,MAAM,SAAUlH,EAAG+F,GAAK,MAAOA,GAAImB,IAC/CE,SAAS,KACTjM,KAAK,SAAU,SAAU6E,GAAK,MAAO8G,GAAI7H,EAAEe,EAAEf,KAC7C9D,KAAK,IAAK,SAAU6E,GAAK,MAAOf,GAAEe,EAAEf,SAGzCgI,GAAI9L,KAAK,SAAU,SAAU6E,GAAK,MAAO8G,GAAI7H,EAAEe,EAAEf,KAC5C9D,KAAK,IAAK,SAAU6E,GAAK,MAAOf,GAAEe,EAAEf,KAjCjD,GAAIxI,KAsCJmE,GAAOnE,SAAWA,EAClBJ,QAAQ4B,OAAO,SAAU2C,IAE1B,UAAWc,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1C,SAAW3F,EAAIC,EAAIC,EAAGC,GAYlB,QAASyE,GAAOxC,EAAMoD,EAAOlF,EAAS+E,GAclC,QAASgM,GAAWjP,EAAM4O,EAAYM,GAelC,QAASC,KACDC,EAAY,IAChBC,EAAKtM,KAAK,IAAKuM,EAAKF,EAAY,KAC3BL,aAAaC,SAAS,KAClBO,UAAU,IAAKC,GAG5B,QAASC,KACLJ,EAAKtM,KAAK,IAAKuM,GAInB,QAASI,KACLtM,EAAMN,OAAO,KAAKC,KAAK,QAAS,sBAC3BqE,UAAU,OACNpH,KAAKoP,GACTb,QAAQzL,OAAO,UACXC,KAAK,QAAS,OAAS0J,GACvB1J,KAAK,IAAK4M,GACV5M,KAAK,KAAMzC,GACXyC,KAAK,KAAM8D,GAIxB,QAAS+I,KACL,GAAIC,GAAc,EAElBzM,GAAMN,OAAO,KAAKC,KAAK,QAAS,oBAC3BqE,UAAU,mBACNpH,KAAKoP,GACTb,QAAQzL,OAAO,UACXC,KAAK,QAAS,mBACdA,KAAK,UAAW,GAChBA,KAAK,IAAK8M,GACV9M,KAAK,KAAMzC,GACXyC,KAAK,KAAM8D,GAGxB,QAAS2I,KACL,GAAIM,GAAQV,EACRW,EAAclS,EAAG6H,MAAMsK,WAAW9J,QAAQ,EAAE,IACvCH,MAAMlI,EAAGkI,MAAM,EAAG+J,EAAM7P,OAAS,GAC1C,OAAO,UAASgQ,GACZ,MAAOX,GAAKQ,EAAMI,MAAM,EAAGH,EAAYE,MAzD/CrB,EAAaA,EAAaA,EAAW7B,QAAQ,KAAM,KAAO,EAE1D,IAAIqC,GAActR,EAAEqS,OAAOnQ,EAAM,SAAU4H,GAAK,MAAc,OAAPA,EAAEf,IACrD8I,EAAaxR,KAAKD,QAAQoR,KAAKc,OAAOlF,KACtCuB,GAAa,KAAOxJ,EAAI,KAAOiM,EAAaN,GAAY9J,KAAK,KAC7DuK,EAAOjM,EAAMN,OAAO,QAAQ6E,MAAMyH,GAAarM,KAAK,QAAS,QAAU0J,GACvE4D,EAAalS,KAAKD,QAAQI,MAAMC,WAAa4Q,EAAqBM,EAClEa,EAAenS,KAAKD,QAAQoR,KAAKc,OAAOG,OAASb,EAAoB3R,EAAEyS,IAE3EH,KACAC,IACAV,IAxBJ,GAAItP,GAAIxC,EAAE+J,KAAK,SAAUD,GAAK,MAAOzJ,MAAKsH,OAAOmC,EAAEtH,GAAKnC,KAAKwH,UAAY,GAAMxH,MAC3E0I,EAAI/I,EAAE+J,KAAK,SAAUD,GAAK,MAAOzJ,MAAK6H,OAAO4B,EAAEf,IAAO1I,MAGtDmR,EAAOzR,EAAGgF,IAAIyM,OACbhP,EAAE,SAAUsH,GAAK,MAAOtH,GAAEsH,KAC1Bf,EAAE,SAAUe,GAAK,MAAOf,GAAEe,IAqE/B,OAnEA9J,GAAEoC,KAAKF,EAAM,SAAU4H,EAAG+F,GACtBsB,EAAWtP,KAAKxB,KAAMyJ,EAAE5H,KAAM4H,EAAE8F,KAAMC,EAAE,IACzCxP,MAiEIA,KAvFX,GAAIE,IACAiR,MACIc,QACIG,QAAQ,EACRrF,KAAM,MAsFlB1I,GAAOnE,SAAWA,EAElBJ,QAAQ4B,OAAO,OAAQ2C,IAExB,UAAWc,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC,QAE1CtF,QAAQ4B,OAAO,eAAgB,SAAUG,EAAMoD,EAAOlF,GAElD,GAAIuS,GAAiBtS,KAAKgB,QAAQsH,aAC9BrH,EAAUrB,EAAEG,EAAQwS,aAAalP,GAErCpC,GAAQuR,SAAS,gBAEjB,IAAIC,GAAc,SAAUhJ,GACxB,GAAIiJ,GAAS,SAAUC,GACnB,QAASA,GAAY,MAAPA,EAAEjK,IAEhBkK,EAAWjT,EAAEqS,OAAOrS,EAAE+G,IAAI7E,EAAM,SAAU8Q,EAAGnD,GAAK,MAAQkD,GAAOC,EAAE9Q,KAAK4H,EAAEtH,IAA6E,MAArEsO,WAAYkC,EAAEpD,KAAMsD,MAAOF,EAAE9Q,KAAK4H,EAAEtH,GAAGuG,EAAGoK,SAAU,MAAQtD,EAAE,MAAiB,SAAUrN,GAAK,MAAOA,KACvLmH,EAAO3J,EAAE+G,IAAIkM,EAAU,SAAUd,GAAK,MAAO,gBAAkBA,EAAEgB,SAAW,MAAQhB,EAAErB,WAAa,KAAO6B,EAAeR,EAAEe,OAAS,YAAclM,KAAK,MAC3J1F,GAAQ8R,KAAKzJ,GAAM0J,QAGnBC,EAAa,WACbhS,EAAQ8R,KAAK,IAGjB/S,MAAK0E,IAAIuE,UAAU,oBACdiK,GAAG,oBAAqBT,EAAY/I,KAAK1J,OACzCkT,GAAG,mBAAqBD,EAAWvJ,KAAK1J,SAGjD,WAUI,QAASqE,KAEL,GAAI8O,GAAiB,WACjBC,aAAapT,KAAKiB,QAAQoS,YAG1BC,EAAgB,SAAUC,EAAS5C,GAChC3Q,KAAKD,QAAQkB,QAAQuS,QACpBxT,KAAKyT,eACA7C,aAAaC,SAASF,GAClBpC,MAAM,UAAWgF,GAE1BvT,KAAKyT,eAAelF,MAAM,UAAWgF,IAIzCG,EAAkB,SAAUC,GAC5B,OAASxR,EAAGwR,EAAGC,MAAQ,GAAIlL,EAAGiL,EAAGE,MAAQ,KAGzCpB,EAAc,SAAUhJ,GACxB,GAAIkK,GAAKjU,GAAGoU,MACRC,EAAML,EAAgBC,EAE1BX,GAAKxR,KAAKxB,KAAMyJ,EAAGsK,IAGnBd,EAAa,WACbK,EAAc9R,KAAKxB,KAAM,EAAGA,KAAKD,QAAQkB,QAAQ+S,WAGjDC,EAAiB,SAAUxK,GAC3B,MAAGzJ,MAAKD,QAAQkB,QAAQuL,UAAkBxM,KAAKD,QAAQkB,QAAQuL,UAAUhL,KAAKxB,KAAMyJ,GAE5E,MAAQA,EAAEtH,EAAI,OAAS,MAAQsH,EAAEf,GAGzCsK,EAAO,SAAUvJ,EAAGsK,GACpBZ,EAAe3R,KAAKxB,KACpB,IAAIsJ,GAAO2K,EAAezS,KAAKxB,KAAMyJ,EAErCzJ,MAAKyT,eAAehP,OAAO,SAASsO,KAAKzJ,GAEzCtJ,KAAKyT,eACAlF,MAAM,MAAOwF,EAAIrL,EAAI,MACrB6F,MAAM,OAAQwF,EAAI5R,EAAI,MAE3BmR,EAAc9R,KAAKxB,KAAMA,KAAKD,QAAQkB,QAAQiT,eAAgBlU,KAAKD,QAAQkB,QAAQkT,UAGvFnU,MAAKyT,eAAiBzT,KAAKwE,UACtBG,OAAO,OAEZ3E,KAAKyT,eACA7O,KAAK,QAAS,cACd2J,MAAM,UAAW,GACjB5J,OAAO,OACHC,KAAK,QAAS,QAEvB5E,KAAK0E,IAAIuE,UAAU,oBACdiK,GAAG,oBAAqBT,EAAY/I,KAAK1J,OACzCkT,GAAG,mBAAqBD,EAAWvJ,KAAK1J,OAtEjD,GAAIE,IACAe,SACIuS,SAAS,EACTU,eAAgB,IAChBC,SAAU,IACVH,SAAU,KAoElB3P,GAAOnE,SAAWA,EAElBJ,QAAQ4B,OAAO,UAAW2C,MAO9B,SAAW5E,EAAIC,EAAIC,GAEf,QAASyU,GAAIC,EAAKC,GAMd,MALAA,GAAiC,mBAAdA,IAA4B,EAAOA,EACtDtU,KAAKuU,MAAMF,EAAKC,GAEhBtU,KAAKwU,WAAa,EAEXxU,KAGXoU,EAAI3S,WACA8S,MAAO,SAAUF,EAAKC,GAGlB,GAFAtU,KAAK2R,SACL3R,KAAKyU,YACAJ,GAAQA,EAAIvS,OAAjB,CACA,GAAI4S,GAAOL,EAAIM,MAAM,QACrB3U,MAAKyU,SAAWH,EAAY3U,EAAEoC,KAAK2S,EAAKE,QAAQD,MAAM,KAAM,SAASlL,GAAK,MAAOA,GAAEoL,gBAAoBlV,EAAEiI,MAAM,EAAG8M,EAAK,GAAG5S,QAC1HnC,EAAEoC,KAAK2S,EAAM,SAAUI,GACnB9U,KAAK2R,MAAMzO,KAAK4R,EAAEH,MAAM,OACzB3U,QAGP+U,UAAW,SAAUpV,GACjB,MAAIqV,WAAUlT,QACd9B,KAAKwU,WAAaxU,KAAKyU,SAASQ,QAAQtV,EAAEkV,eACnC7U,MAFsBA,KAAKyU,SAASzU,KAAKwU,aAKpDU,QAAS,SAAUvV,GACf,MAAOK,MAAK6B,KAAKlC,EAAEkV,gBAGvBhT,KAAM,SAAUqT,GACZ,GAAIC,GAAWnV,KAAKwU,WAChBY,EAAepV,KAAKyU,SAASQ,QAAQC,GACrCG,EAAS1V,EAAE+G,IAAI1G,KAAK2R,MAAO,SAAUlI,GACrC,OACItH,EAAGsH,EAAE0L,GACLzM,EAAG/I,EAAE2V,OAAO7L,EAAE2L,IAAiB3L,EAAE2L,IAAiB3L,EAAE2L,KAI5D,OAAOC,KAIfvV,QAAQyV,WAAazV,QAAQyV,eAC7BzV,QAAQyV,WAAWnB,IAAMA,GAE1B,UAAWjP,OAAOzF,GAAIyF,OAAOxF,EAAGwF,OAAOC"}