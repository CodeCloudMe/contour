{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","export","ctorName","renderer","normalizeSeries","data","length","map","bind","series","index","name","datum","sortSeries","each","shouldSort","isObject","isDate","x","sortFunc","a","b","sort","Error","prototype","opt","extend","renderFunc","isArray","datums","call","partial","visualizations","push","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","removeChild","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","visualization","layer","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","yAxis","smartAxis","labels","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","nice","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","tickValues","_extractYTickValues","numTicks","_numYTicks","tickFormat","tickSize","ticks","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","d","categories","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","niceRound","smartAxisValues","adjustedDomain","merge","regularAxisisValues","dmin","dmax","span","ceil","helpers","isTimeData","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","time","extent","getOptimalTickFormat","maxTicks","customValues","len","step","j","axisGroup","spanDays","rangeRound","numberHelpers","ar","roundToNearest","number","multiple","val","arrayHelpers","array1","array2","concat","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","_data","interpolate","quantile","t","line","slice","markerSize","marker","size","join","path","attrTween","enable","normalizeData","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"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"}