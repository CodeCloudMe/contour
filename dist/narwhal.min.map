{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","tooltip","export","ctorName","renderer","normalizeSeries","data","length","map","bind","series","index","name","datum","sortSeries","each","shouldSort","isObject","isDate","x","sortFunc","a","b","sort","Error","prototype","opt","extend","renderFunc","isArray","datums","call","partial","visualizations","push","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","removeChild","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","visualization","layer","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","labels","yAxis","smartAxis","align","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","nice","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","alignmentOffset","middle","tickValues","_extractYTickValues","numTicks","_numYTicks","tickFormat","tickSize","ticks","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","d","categories","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","niceRound","smartAxisValues","adjustedDomain","merge","regularAxisYTicks","smartAxisYTicks","helpers","isTimeData","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","axisDomain","_getAxisDomain","time","getOptimalTickFormat","maxTicks","customValues","len","step","j","ceil","axisGroup","formatter","spanDays","daysThreshold","_getAxisRange","rangeRound","linearDomain","extent","concat","numberHelpers","ar","roundToNearest","number","multiple","val","dateHelpers","arrayHelpers","array1","array2","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","_data","interpolate","quantile","t","line","slice","markerSize","marker","size","trackerSize","join","path","attrTween","enable","normalizeData","clearHideTimer","clearTimeout","hideTimer","changeOpacity","opacity","animate","tooltipElement","positionTooltip","ev","pageX","pageY","onMouseOver","event","pos","show","onMouseOut","hideTime","getTooltipText","console","log","html","visibleOpacity","showTime","on","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"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"}