{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","export","ctorName","renderer","normalizeSeries","data","length","map","bind","series","index","name","datum","Error","prototype","opt","extend","renderFunc","isArray","datums","call","partial","visualizations","push","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","removeChild","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","each","visualization","layer","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","merge","array1","array2","concat","sort","a","b","niceRound","val","ceil","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","yAxis","smartAxis","labels","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","tickValues","_extractYTickValues","numTicks","_numYTicks","ticks","tickFormat","tickSize","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","d","isObject","x","categories","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","smartAxisValues","adjustedDomain","regularAxisisValues","dmin","dmax","span","helpers","isTimeData","isDate","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","time","extent","getOptimalTickFormat","axisGroup","spanDays","getOptimalTicks","days","rangeRound","extractDomain","ar","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","_data","interpolate","quantile","t","line","slice","markerSize","marker","size","join","path","attrTween","enable","normalizeData","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"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"}