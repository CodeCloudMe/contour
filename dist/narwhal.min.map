{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","export","ctorName","renderer","normalizeSeries","data","length","map","bind","series","index","name","datum","Error","prototype","opt","extend","renderFunc","isArray","datums","call","partial","visualizations","push","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","remove","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","each","visualization","layer","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","merge","array1","array2","concat","sort","a","b","niceRound","val","ceil","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","yAxis","labels","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","tickValues","_extractTickValues","tickFormat","tickSize","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","d","isObject","x","categories","Array","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","pluck","adjustedDomain","helpers","isTimeData","isDate","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","dateDiff","d1","d2","diff","getTime","time","extent","getOptimalTickFormat","axisGroup","spanDays","getOptimalTicks","days","rangeRound","extractDomain","ar","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","_data","interpolate","quantile","t","line","slice","markerSize","marker","size","join","path","attrTween","enable","normalizeData","Csv","raw","headerRow","parse","_dimension","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors"],"mappings":"CAAA,SAAWA,EAAIC,EAAIC,EAAGC,EAAGC,GA0BrB,QAASC,GAAQC,GAEb,MADAC,MAAKC,KAAKF,GACHC,KA1BX,GAAIE,IACAC,OACIC,YAAY,EACZC,aAAc,IACdC,cAAe,EAAI,cACnBC,MAAOV,EACPW,OAAQX,EAERY,QACIC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,GAGVC,SACIJ,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,IAUlBf,GAAQiB,OAAS,SAAUC,EAAUC,GAIjC,QAASC,GAAgBC,GACrB,MAAIA,IAASA,EAAKC,OAEfD,EAAK,GAAGA,KACAxB,EAAE0B,IAAIF,EAAMxB,EAAE2B,KAAK,SAAUC,EAAQC,GACxC,OACIC,KAAMF,EAAOE,MAAQ,IAAMD,EAC3BL,KAAMxB,EAAE0B,IAAIE,EAAOJ,KAAMxB,EAAE2B,KAAKtB,KAAK0B,MAAO1B,SAEjDA,OAGCL,EAAE0B,IAAIF,EAAMxB,EAAE2B,KAAKtB,KAAK0B,MAAO1B,OAXNmB,EAHrC,GAAwB,kBAAbF,GAAyB,KAAM,IAAIU,OAAM,+BAAiCX,EAAW,iBAiBhGlB,GAAQ8B,UAAUZ,GAAY,SAAUG,EAAMpB,GAC1CoB,EAAOA,MACPF,EAASf,SAAWe,EAASf,YAC7B,IAAI2B,KACJA,GAAIb,GAAYjB,EAChBH,EAAEkC,QAAO,EAAM9B,KAAKD,QAASkB,EAASf,SAAU2B,EAEhD,IAAIE,EACJ,IAAIpC,EAAEqC,QAAQb,GAAO,CACjBnB,KAAKmB,KAAKA,EACV,IAAIc,GAASf,EAAgBgB,KAAKlC,KAAMmB,EACxCY,GAAapC,EAAEwC,QAAQlB,EAAUgB,OAEjCF,GAAapC,EAAEwC,QAAQlB,EAAUE,EAKrC,OAFAnB,MAAKoC,eAAeC,KAAKN,GAElB/B,OAIfF,EAAQwC,OAEJC,WAAY,SAAUC,EAAMC,GACxB,GAAIC,GAAOC,SAASC,qBAAqB,QAAQ,GAC7CC,EAAUF,SAASG,cAAc,QACjCC,EAAQJ,SAASG,cAAc,OACnCD,GAAQG,UAAY,gBACpBD,EAAME,MAAMC,SAAW,WACvBH,EAAME,MAAMpC,KAAQ,MACpBkC,EAAMI,UAAYX,EAClBO,EAAMC,UAAYP,EAClBI,EAAQO,YAAYL,GACpBL,EAAKU,YAAYP,EACjB,IAAIQ,IAAQ9C,MAAOwC,EAAMO,YAAa9C,OAAQuC,EAAMQ,aAGpD,OAFAR,GAAMS,SACNX,EAAQW,SACDH,IAIfvD,EAAQ8B,UAAYjC,EAAEmC,OAAOhC,EAAQ8B,WAEjC3B,KAAM,SAAUF,GAQZ,MAJAC,MAAKD,QAAUA,EAEfC,KAAKoC,kBAEEpC,MAGXyD,eAAgB,WACZ,MAAOC,UAAS9D,EAAEI,KAAKD,QAAQ4D,IAAIpD,QAAS,KAAOP,KAAKD,QAAQI,MAAME,cAG1EuD,gBAAiB,WACb,GAAIC,GAAkBH,SAAS9D,EAAEI,KAAKD,QAAQ4D,IAAInD,SAAU,IACxDsD,EAAY9D,KAAKD,QAAQI,MAAMI,MAC/BwD,EAAQ/D,KAAKD,QAAQI,MAAM6D,QAAUhE,KAAKD,QAAQI,MAAMG,aAE5D,OAASuD,GAAmBA,EAAkBI,KAAKC,MAAMJ,EAAYC,IAGzEI,YAAa,WACT,GAAIpE,GAAUC,KAAKD,OAEnBA,GAAQI,MAAMI,MAAQR,EAAQI,MAAMI,OAASP,KAAKyD,iBAClD1D,EAAQI,MAAMK,OAAST,EAAQI,MAAMK,QAAUR,KAAK4D,kBAEpD5D,KAAKD,QAAUH,EAAEkC,QAAO,EAAM/B,GAC1BI,OACIiE,UAAWrE,EAAQI,MAAMI,MAAQR,EAAQI,MAAMM,OAAOI,KAAOd,EAAQI,MAAMM,OAAOE,MAAQZ,EAAQI,MAAMW,QAAQD,KAAOd,EAAQI,MAAMW,QAAQH,MAC7I0D,WAAYtE,EAAQI,MAAMK,OAAST,EAAQI,MAAMM,OAAOC,IAAMX,EAAQI,MAAMM,OAAOG,OAASb,EAAQI,MAAMW,QAAQJ,IAAMX,EAAQI,MAAMW,QAAQF,WAK1J0D,eAAgB,WAEZtE,KAAKD,QAAUH,EAAEkC,QAAO,KAAU5B,EAAUF,KAAKD,UAGrDwE,WAAY,WAGR,MAFAvE,MAAKwE,WAEExE,MAGXyE,OAAQ,WASJ,MARAzE,MAAKsE,iBAELtE,KAAKmE,cAELnE,KAAKuE,aAELvE,KAAK0E,uBAEE1E,MAGXwE,SAAU,WAEN,GAAIG,GAAW3E,KAAKD,QAAQI,KAY5B,OAVAH,MAAK4E,UAAYlF,EAAGmF,OAAO7E,KAAKD,QAAQ4D,IAExC3D,KAAK8E,IAAM9E,KAAK4E,UACXG,OAAO,OACHC,KAAK,UAAW,OAASL,EAASpE,MAAQ,IAAMoE,EAASnE,QACzDwE,KAAK,sBAAuB,YAC5BA,KAAK,QAAS,iBAClBD,OAAO,KACHC,KAAK,YAAa,aAAeL,EAASlE,OAAOI,KAAO,IAAM8D,EAASlE,OAAOC,IAAM,KAEtFV,MAGXiF,yBAA0B,SAAUC,GAChC,MAAOlF,MAAK8E,IAAIC,OAAO,KAClBC,KAAK,SAAUE,GACfF,KAAK,YAAa,aAAehF,KAAKD,QAAQI,MAAMW,QAAQD,KAAO,IAAMb,KAAKD,QAAQI,MAAMW,QAAQJ,IAAM,MAGnHgE,qBAAsB,WAOlB,MANA/E,GAAEwF,KAAKnF,KAAKoC,eAAgB,SAAUgD,EAAe5D,GACjD,GAAI0D,GAAK1D,EAAQ,EACb6D,EAAQrF,KAAKiF,yBAAyBC,EAC1CE,GAAclD,KAAKlC,KAAMqF,EAAOrF,KAAKD,QAASmF,IAC/ClF,MAEIA,MAGXsF,OAAQ,SAAUtE,EAAUuE,GACxB,GAAIC,MACAC,EAAO,WAMP,MAJA9F,GAAEmC,OAAO9B,KAAML,EAAE+F,KAAKH,EAAe,SAElCA,EAActF,MAAMsF,EAActF,KAAKiC,KAAKlC,KAAMA,KAAKD,SAEnDC,KAOX,OAJAwF,GAAQxE,GAAYyE,EAEpB9F,EAAEmC,OAAO9B,KAAMwF,GAERxF,MAGX2F,QAAS,aAOTxE,KAAM,eAMVyE,OAAOnG,GAAMK,GAEd,UAAW8F,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,EAAGC,EAAGC,GAkCrB,QAASiG,GAAMC,EAAQC,GAGnB,MAFsB,gBAAb,KAAuBD,GAAUA,IACpB,gBAAb,KAAuBC,GAAUA,IACtCD,GAAWA,EAAO3E,OAClB4E,GAAWA,EAAO5E,UAEZ6E,OAAOF,EAAQC,GAAQE,KAAK,SAAUC,EAAEC,GAAK,MAAOD,GAAEC,IAF3BL,EADAC,EAWzC,QAASK,GAAUC,GACf,MAAOrC,MAAKsC,KAAW,IAAND,GAWrB,QAASE,GAAmBC,EAAQC,EAAKC,GACrC,GAAIC,GAAUjH,EAAEgH,IAAIF,GAChBI,EAAUlH,EAAE+G,IAAID,EAEpB,OAAIC,KAAQ7G,GAAa8G,IAAQ9G,GACrBgH,EAASD,GAGjBF,IAAQ7G,GACAoE,KAAKyC,IAAIG,EAASF,GAAMA,GAGhCA,IAAQ9G,GACA6G,EAAKzC,KAAK0C,IAAID,EAAKE,KAGvBF,EAAKC,GA1EjB,GAAIzG,IACAC,OACIW,SACIJ,IAAK,EACLE,OAAQ,GACRC,KAAM,GACNF,MAAO,IAIfmG,OACIC,aAAc,EACdC,cAAe,EACfC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,cAAc,GAGlBC,OACIX,IAAK,EACLC,IAAK9G,EACLmH,cAAe,EACfC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdG,QACIC,OAAQ,OAkDhBC,GACAC,WAEAxH,KAAM,SAAUF,GAgBZ,MAdAC,MAAKD,QAAUH,EAAEkC,QAAO,KAAU5B,EAAUH,IAEzCC,KAAKD,QAAQ+G,MAAMY,OAAS1H,KAAKD,QAAQsH,MAAMK,SAC9C1H,KAAK2H,WAAa7H,QAAQwC,MAAMC,WAAW,OAAQ,cAAc/B,OAC9DR,KAAKD,QAAQ+G,MAAMY,QAClB1H,KAAKD,QAAQI,MAAMW,QAAQF,QAAUZ,KAAK2H,YAG3C3H,KAAKD,QAAQsH,MAAMK,QAClB1H,KAAKD,QAAQI,MAAMW,QAAQD,MAAQb,KAAK2H,aAKzC3H,MAGX4H,cAAe,WACX,IAAK5H,KAAK6H,QAAS,KAAM,IAAIlG,OAAM,2DAEnC3B,MAAK8H,eAAiBnI,EAAEoI,GAAGC,cAAchI,KAAKyH,QAASzH,KAAKD,SAC5DC,KAAKiI,OAASjI,KAAK8H,eAAeI,MAAMlI,KAAK6H,SAC7C7H,KAAKmI,UAAYnI,KAAK8H,eAAeK,aAGzCC,cAAe,WACX,IAAKpI,KAAKqI,QAAS,KAAM,IAAI1G,OAAM,2DACnC,IAAI2G,GAAe9B,EAAmBxG,KAAKqI,QAASrI,KAAKD,QAAQsH,MAAMX,IAAK1G,KAAKD,QAAQsH,MAAMV,IAE/F3G,MAAKuI,OAAS7I,EAAGwI,MAAMM,SAClB/B,OAAO6B,GACPG,OAAOzI,KAAKD,QAAQI,MAAMkE,WAAY,KAG/CqE,cAAe,WAKX,MAJA1I,MAAK2I,eACL3I,KAAK4H,gBACL5H,KAAKoI,gBAEEpI,MAGX8G,MAAO,WACH,GAAI8B,GAAI5I,KAAKD,QAAQI,MAAMkE,WAAarE,KAAKD,QAAQI,MAAMW,QAAQJ,IAC/DoG,EAAQ9G,KAAK8H,eAAee,OAAOC,OAAO,SAU9C,OARA9I,MAAK+I,YAAc/I,KAAK8E,IACnBC,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAehF,KAAKD,QAAQI,MAAMW,QAAQD,KAAO,IAAM+H,EAAI,KAC7E1G,KAAK4E,GAEV9G,KAAK8H,eAAekB,gBAAgBhJ,KAAK+I,aAElC/I,MAGXqH,MAAO,WACH,GAAItH,GAAUC,KAAKD,QAAQsH,MACvB4B,EAAajJ,KAAKkJ,mBAAmBlJ,KAAKqI,QAAStI,EAAQ2G,IAAK3G,EAAQ4G,KACxEY,EAAS7H,EAAG6H,OAAOxH,EAAQuH,OAAOC,QAClCF,EAAQ3H,EAAGoF,IAAI+D,OACdX,MAAMlI,KAAKuI,QACXU,WAAWA,GACXE,WAAW5B,GACX6B,SAASrJ,EAAQiH,cAAejH,EAAQkH,eACxCC,YAAYnH,EAAQmH,aACpB4B,OAAO,OAUZ,OARA9I,MAAKqJ,YAAcrJ,KAAK8E,IAAIC,OAAO,KAC9BC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAehF,KAAKD,QAAQI,MAAMW,QAAQD,KAAO,IAAMb,KAAKD,QAAQI,MAAMW,QAAQJ,IAAM,KAE/GV,KAAKqJ,YAAYnH,KAAKmF,GACjBiC,UAAU,QACNtE,KAAK,KAAM,QAEbhF,MAGXuJ,WAAY,WACR,GAAIC,GAAyC,IAAlBxJ,KAAK2H,UAE5B3H,MAAKD,QAAQ+G,MAAMY,OACnB1H,KAAK+I,YAAYhE,OAAO,QACnBC,KAAK,QAAS,gBACdA,KAAK,cAAe,OACpBA,KAAK,IAAKhF,KAAKD,QAAQI,MAAMW,QAAQF,OAAS4I,GAC9CxE,KAAK,KAAMhF,KAAKD,QAAQI,MAAMiE,WAC9BY,KAAK,MAAOhF,KAAKD,QAAQ+G,MAAMK,cAC/B3E,KAAKxC,KAAKD,QAAQ+G,MAAMY,OAG7B1H,KAAKD,QAAQsH,MAAMK,OACnB1H,KAAKqJ,YAAYtE,OAAO,QACnBC,KAAK,QAAS,gBACdA,KAAK,cAAe,OACpBA,KAAK,YAAa,eAClBA,KAAK,KAAMhF,KAAKD,QAAQI,MAAMW,QAAQD,KAAOb,KAAK2H,WAAa6B,GAC/DxE,KAAK,KAAM,GACXA,KAAK,KAAMhF,KAAKD,QAAQsH,MAAMF,cAC9B3E,KAAKxC,KAAKD,QAAQsH,MAAMK,QAKrCjD,OAAQ,WAeJ,MAdAzE,MAAKsE,iBAELtE,KAAKmE,cAELnE,KAAK0I,gBAEL1I,KAAKuE,aAELvE,KAAK8G,QACAO,QACAkC,aAELvJ,KAAK0E,uBAEE1E,MAGX0B,MAAO,SAAU+H,EAAGjI,GAChB,MAAG7B,GAAE+J,SAASD,IAAM9J,EAAEqC,QAAQyH,EAAEtI,MACrBxB,EAAE0B,IAAIoI,EAAEtI,KAAMxB,EAAE2B,KAAKtB,KAAK0B,MAAO1B,QAGxC4I,EAAGjJ,EAAE+J,SAASD,GAAKA,EAAEb,EAAIa,EACzBE,EAAGhK,EAAE+J,SAASD,GAAKA,EAAEE,EAAI3J,KAAKD,QAAQ+G,MAAM8C,WAAa5J,KAAKD,QAAQ+G,MAAM8C,WAAWpI,GAASA,IAIxGL,KAAM,SAAUI,GAEZ,MAAIA,aAAkBsI,SAAUtI,EAAOH,OAC5BpB,MACAuB,YAAkBsI,SAAUtI,EAAO,GAAGJ,MAC7CnB,KAAKyH,QAAU9H,EAAE0B,IAAIE,EAAQ5B,EAAE2B,KAAKtB,KAAK0B,MAAO1B,OAChDA,KAAK6H,QAAU7H,KAAK8J,eAAe9J,KAAKyH,SACxCzH,KAAKqI,QAAUrI,KAAK+J,eAAe/J,KAAKyH,SACxCzH,KAAKgK,KAAOhK,KAAKiK,gBAAgBjK,KAAKyH,SACtCzH,KAAKkK,KAAOlK,KAAKmK,gBAAgBnK,KAAKyH,UAC/BlG,YAAkBsI,QAAStI,EAAO,GAAGJ,MAE5CxB,EAAEwF,KAAK5D,EAAQ,SAAU6I,GAAOpK,KAAKmB,KAAKiJ,EAAIjJ,OAAUnB,MAGrDA,OAGXiK,gBAAiB,SAAUhI,GACvB,MAAOgC,MAAK0C,IAAI3G,KAAKgK,MAAQ,EAAGrK,EAAEgH,IAAIhH,EAAE0K,MAAMpI,EAAQ,QAG1DkI,gBAAiB,SAAUlI,GACvB,MAAOgC,MAAKyC,IAAI1G,KAAKkK,MAAQ,EAAGvK,EAAE+G,IAAI/G,EAAE0K,MAAMpI,EAAQ,QAG1D6H,eAAgB,SAAS7H,GACrB,MAAQjC,MAAKD,QAAQ+G,MAAM8C,WAAa5J,KAAKD,QAAQ+G,MAAM8C,WAAajK,EAAE0K,MAAMpI,EAAQ,MAG5F8H,eAAgB,SAAU9H,GACtB,GAAI0E,GAAM3G,KAAKqI,QAAUpE,KAAK0C,IAAI3G,KAAKqI,QAAQ,GAAI1I,EAAEgH,IAAIhH,EAAE0K,MAAMpI,EAAQ,OAAStC,EAAEgH,IAAIhH,EAAE0K,MAAMpI,EAAQ,MACpGyE,EAAM1G,KAAKqI,QAAUpE,KAAKyC,IAAI1G,KAAKqI,QAAQ,GAAI1I,EAAE+G,IAAI/G,EAAE0K,MAAMpI,EAAQ,OAAStC,EAAE+G,IAAI/G,EAAE0K,MAAMpI,EAAQ,KAExG,QAAQyE,EAAKC,IAGjBgC,aAAc,WACV3I,KAAKqI,QAAUrI,KAAKqI,SAAWrI,KAAKqI,QAAQ,GAAIhC,EAAUrG,KAAKqI,QAAQ,MAAQ,EAAG,IAClFrI,KAAK6H,QAAU7H,KAAK6H,QAAU7H,KAAK6H,YAGvCqB,mBAAoB,SAAUzC,EAAQC,EAAKC,GACvC,GAAI2D,GAAiBxE,EAAMW,EAAQzG,KAAKgK,KAExC,OAAItD,KAAQ7G,GAAa8G,IAAQ9G,EACtByK,EAEP5D,IAAQ7G,EACD8G,EAAM3G,KAAKkK,KAAOpE,GAAOa,GAAM2D,IAAmB3D,GAGzDA,IAAQ9G,EACJ6G,GAAO1G,KAAKgK,MAActD,IAC9B4D,EAAe,GAAK5D,EAEb4D,GAGJxE,GAAOY,EAAKC,GAAM3G,KAAKgK,OAKtCpE,QAAOnG,GAAImC,UAAU0D,OAAO,YAAakC,IAE1C,UAAW5B,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,GAEf,GAAI4K,IACAvC,cAAe,SAAU7G,EAAMpB,GAO3B,GAAIyK,GAAa7K,EAAEqC,QAAQb,IAASA,EAAKC,OAAS,GAAKD,EAAK,GAAGA,KAC3DA,EAAK,GAAGA,KAAK,GAAGwI,GAAKhK,EAAE8K,OAAOtJ,EAAK,GAAGA,KAAK,GAAGwI,GAC9ChK,EAAEqC,QAAQb,IAASA,EAAKC,OAAS,GAAKD,EAAK,GAAGwI,GAAKhK,EAAE8K,OAAOtJ,EAAK,GAAGwI,EAExE,OAAOa,IAAqC,YAAvBzK,EAAQ+G,MAAM4D,KAAqB,GAAI/K,GAAEoI,GAAG4C,UAAUxJ,EAAMpB,GAAW,GAAIJ,GAAEoI,GAAG6C,aAAazJ,EAAMpB,IAKhIJ,GAAEoI,GAAKpI,EAAEmC,UAAWnC,EAAEoI,GAAIwC,IAE3B,UAAW3E,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,GAaf,QAASiL,GAAazJ,EAAMpB,GACxBC,KAAKD,QAAUA,EACfC,KAAKmB,KAAOA,EAEZnB,KAAKC,OAGT2K,EAAahJ,WACT3B,KAAM,WACFD,KAAK6K,eAAgB,QACd7K,MAAK8K,QAGhB5C,MAAO,SAAUzB,GAQb,MAPAzG,MAAK+K,QAAUtE,EACXzG,KAAK8K,SACL9K,KAAK8K,QAAS,GAAIpL,GAAGwI,MAAM8C,SAAUvE,OAAOA,GAE5CzG,KAAKyI,SAGFzI,KAAK8K,QAGhBjC,KAAM,WACF,GAAI9I,GAAUC,KAAKD,QAAQ+G,MACvB+B,EAAOnJ,EAAGoF,IAAI+D,OACbX,MAAMlI,KAAK8K,QACX9D,cAAcjH,EAAQiH,eACtBC,cAAclH,EAAQkH,eACtBC,YAAYnH,EAAQmH,aACpB+B,WAAWjJ,KAAKD,QAAQ+G,MAAM8C,YAC9BT,WAAW,SAAUM,GAClB,MAAO9J,GAAE8K,OAAOhB,GAAKA,EAAEwB,UAAYxB,GAQ3C,OALIzJ,MAAKD,QAAQ+G,MAAMM,cAEnByB,EAAKI,WAAWtJ,EAAEoI,GAAGX,aAAapH,KAAK+K,UAGpClC,GAGXG,gBAAiB,aAGjBb,UAAW,WACP,MAAOnI,MAAK8K,OAAO3C,aAGvBM,MAAO,WACH,GAAIA,IAAS,EAAGzI,KAAKD,QAAQI,MAAMiE,UACnC,OAAOpE,MAAK6K,cACR7K,KAAK8K,OAAOI,gBAAgBzC,EAAO,IACnCzI,KAAK8K,OAAOK,YAAY1C,KAIpC9I,EAAEoI,GAAKpI,EAAEmC,UAAWnC,EAAEoI,IAAM6C,aAAcA,KAE3C,UAAWhF,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,EAAGC,EAAGC,GAWrB,QAASuL,GAASC,EAAIC,GAClB,GAAIC,GAAOF,EAAGG,UAAYF,EAAGE,SAC7B,OAAOD,GAAO,MAIlB,QAASZ,GAAUxJ,EAAMpB,GACrBC,KAAKD,QAAUA,EACfC,KAAKmB,KAAOA,EAGhBwJ,EAAU/I,WACN3B,KAAM,iBACKD,MAAK8K,QAGhB5C,MAAO,SAAUzB,GASb,MARAzG,MAAK+K,QAAUtE,EACXzG,KAAK8K,SACL9K,KAAK8K,QAAS,GAAIpL,GAAG+L,KAAKvD,OACrBzB,OAAO/G,EAAGgM,OAAOjF,IAEtBzG,KAAKyI,SAGFzI,KAAK8K,QAGhBjC,KAAM,WACF,GAAI9I,GAAUC,KAAKD,QAAQ+G,MACvBqC,EAAanJ,KAAK2L,uBAElB9C,EAAOnJ,EAAGoF,IAAI+D,OACbX,MAAMlI,KAAK8K,QACX3B,WAAWA,GACXnC,cAAcjH,EAAQiH,eACtBC,cAAclH,EAAQkH,eACtBC,YAAYnH,EAAQmH,aACpB+B,WAAWjJ,KAAK+K,QAOrB,OALI/K,MAAKD,QAAQ+G,MAAMM,cAEnByB,EAAKI,WAAWtJ,EAAEoI,GAAGX,aAAapH,KAAK+K,UAGpClC,GAGXG,gBAAiB,SAAU4C,GACvB,GAAItE,GAASsE,EAAUtC,UAAU,cAAc,EAC/C1J,GAAE0H,EAAO,IAAItC,KAAK,QAAS,sBAC3BpF,EAAE0H,EAAOA,EAAOlG,OAAS,IAAI4D,KAAK,QAAS,qBAG/CmD,UAAW,WACP,MAAO,IAGXwD,qBAAsB,WAClB,GAAIE,GAAWT,EAASpL,KAAK+K,QAAQ/K,KAAK+K,QAAQ3J,OAAO,GAAIpB,KAAK+K,QAAQ,GAC1E,OAAe,GAAXc,EAAqBnM,EAAG+L,KAAKlE,OAAO,SACjC7H,EAAG+L,KAAKlE,OAAO,UAG1BuE,gBAAiB,WACb,MAAOpM,GAAG+L,KAAKM,MAGnBtD,MAAO,WACH,MAAOzI,MAAK8K,OAAOkB,YAAY,EAAGhM,KAAKD,QAAQI,MAAMiE,WAAY,KAGrE6H,cAAe,SAAUxF,EAAQC,EAAKC,GAClC,MAAID,KAAQ7G,GAAa8G,IAAQ9G,EACtBH,EAAGgM,OAAOjF,GAEjBC,IAAQ7G,GACAoE,KAAKyC,IAAID,EAAO,GAAIE,GAAMA,GAGlCA,IAAQ9G,GACA6G,EAAKzC,KAAK0C,IAAID,EAAKD,EAAOA,EAAOrF,OAAO,MAG5CsF,EAAKC,KAIrBhH,EAAEoI,GAAKpI,EAAEmC,UAAWnC,EAAEoI,IAAM4C,UAAWA,KAExC,UAAW/E,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,GAEf,GAAI4K,IACAnD,aAAc,SAAU8E,GACpB,OAAQA,EAAG,GAAIA,EAAGA,EAAG9K,OAAO,KAIpCzB,GAAEoI,GAAKpI,EAAEmC,UAAWnC,EAAEoI,GAAIwC,IAE3B,UAAW3E,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,WAKI,QAASpB,GAAOtD,EAAMkE,EAAOtF,EAASmF,GAClC,GAAIiH,GAAInM,KAAKD,QAAQI,MAAMkE,WACvBsF,EAAI3J,KAAKiI,OACTW,EAAI5I,KAAKuI,OACT6D,EAAWpM,KAAKmI,UAChBzB,EAAM1G,KAAKD,QAAQsH,MAAMX,KAAO1G,KAAKkK,KAErCmC,EAAMhH,EAAMiE,UAAU,WACrBnI,KAAKA,EASV,IAPAkL,EAAIC,QAAQvH,OAAO,QACVC,KAAK,QAAS,SAAUE,EAAK,QAC7BF,KAAK,IAAK,SAAUyE,GAAK,MAAOE,GAAEF,EAAEE,KACpC3E,KAAK,IAAK,WAAc,MAAO4D,GAAElC,KACjC1B,KAAK,SAAU,GACfA,KAAK,QAAS,WAAc,MAAOoH,KAExCpM,KAAKD,QAAQI,MAAMC,WAAY,CAC/B,GAAImM,GAAQ,CACZF,GAAIG,aAAaD,MAAM,SAAU9C,EAAGgD,GAAK,MAAOA,GAAIF,IAC/CG,SAAS,KACT1H,KAAK,SAAU,SAAUyE,GAAK,MAAO0C,GAAIvD,EAAEa,EAAEb,KAC7C5D,KAAK,IAAK,SAAUyE,GAAK,MAAOb,GAAEa,EAAEb,SAGzCyD,GAAIrH,KAAK,SAAU,SAAUyE,GAAK,MAAO0C,GAAIvD,EAAEa,EAAEb,KAC5C5D,KAAK,IAAK,SAAUyE,GAAK,MAAOb,GAAEa,EAAEb,KA7BjD,GAAI1I,KAkCJuE,GAAOvE,SAAWA,EAClBJ,QAAQiB,OAAO,SAAU0D,IAE1B,UAAWmB,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,GAYf,QAAS8E,GAAOtD,EAAMkE,EAAOtF,EAASmF,GAmBlC,QAASyH,GAAWxL,EAAMyL,EAAYC,GA2BlC,QAASC,KACL,GAAIC,GAAQ5L,EACR6L,EAActN,EAAGwI,MAAM+E,WAAWxG,QAAQ,EAAE,IACvCgC,MAAM/I,EAAG+I,MAAM,EAAGsE,EAAM3L,OAAS,GAC1C,OAAO,UAAS8L,GACZ,MAAOC,GAAKJ,EAAMK,MAAM,EAAGJ,EAAYE,MA/B/C,GAAIG,GAAarN,KAAKD,QAAQoN,KAAKG,OAAOC,IAC1CX,GAAaA,GAAc,GAC3B5J,WAAa,KAAOkC,EAAI,KAAO2H,EAAaD,GAAYY,KAAK,IAC7D,IAAIC,GAAOpI,EAAMN,OAAO,QACnBrD,MAAMP,GACN6D,KAAK,QAAS,QAAUhC,UAC1BhD,MAAKD,QAAQI,MAAMC,WAClBqN,EAAKzI,KAAK,IAAKmI,EAAKhM,EAAK,KACpBqL,aACIE,SAAS,KACTgB,UAAU,IAAKZ,GAExBW,EAAKzI,KAAK,IAAKmI,GAGfnN,KAAKD,QAAQoN,KAAKG,OAAOK,QACzBtI,EAAMN,OAAO,KAAKC,KAAK,QAAS,sBAC3BsE,UAAU,OACNnI,KAAKA,GACTmL,QAAQvH,OAAO,UACXC,KAAK,QAAS,uBAAyBhC,WACvCgC,KAAK,IAAKqI,GACVrI,KAAK,KAAM2E,GACX3E,KAAK,KAAM4D,GAzC5B,GAAIe,GAAIhK,EAAE2B,KAAK,SAAUmI,GAAK,MAAOzJ,MAAKiI,OAAOwB,EAAEE,GAAK3J,KAAKmI,UAAY,GAAMnI,MAC3E4I,EAAIjJ,EAAE2B,KAAK,SAAUmI,GAAK,MAAOzJ,MAAKuI,OAAOkB,EAAEb,IAAO5I,MACtD4N,EAAgBjO,EAAE2B,KAAKtB,KAAK0B,MAAO1B,MAEnCmN,EAAOzN,EAAGoF,IAAIqI,OACbxD,EAAE,SAAUF,GAAK,MAAOE,GAAEF,KAC1Bb,EAAE,SAAUa,GAAK,MAAOb,GAAEa,IAgD/B,OA9CGtI,GAAK,GAAGA,KACPxB,EAAEwF,KAAKhE,EAAM,SAAUsI,EAAGgD,GACtB,GAAIrC,GAAMzK,EAAE0B,IAAIoI,EAAEtI,KAAMyM,EACxBjB,GAAWzK,KAAKlC,KAAMoK,EAAKX,EAAEhI,KAAMgL,EAAE,IACtCzM,MAEH2M,EAAWzK,KAAKlC,KAAML,EAAE0B,IAAIF,EAAMyM,GAAgBzM,EAAKM,KAAM,GAwC1DzB,KAlEX,GAAIE,IACAiN,MACIG,QACIK,QAAQ,EACRJ,KAAM,MAiElB9I,GAAOvE,SAAWA,EAElBJ,QAAQiB,OAAO,OAAQ0D,IAExB,UAAWmB,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC,QAE1C,SAAWpG,EAAIC,EAAIC,GAEf,QAASkO,GAAIC,EAAKC,GAMd,MALAA,GAAiC,mBAAdA,IAA4B,EAAOA,EACtD/N,KAAKgO,MAAMF,EAAKC,GAEhB/N,KAAKiO,WAAa,EAEXjO,KAGX6N,EAAIjM,WACAoM,MAAO,SAAUF,EAAKC,GAGlB,GAFA/N,KAAK+M,SACL/M,KAAKkO,YACAJ,GAAQA,EAAI1M,OAAjB,CACA,GAAI+M,GAAOL,EAAIM,MAAM,QACrBpO,MAAKkO,SAAWH,EAAYpO,EAAEwF,KAAKgJ,EAAKE,QAAQD,MAAM,KAAM,SAAS3E,GAAK,MAAOA,GAAE6E,gBAAoB3O,EAAE8I,MAAM,EAAG0F,EAAK,GAAG/M,QAC1HzB,EAAEwF,KAAKgJ,EAAM,SAAUI,GACnBvO,KAAK+M,MAAM1K,KAAKkM,EAAEH,MAAM,OACzBpO,QAGPwO,UAAW,SAAU7O,GACjB,MAAI8O,WAAUrN,QACdpB,KAAKiO,WAAajO,KAAKkO,SAASQ,QAAQ/O,EAAE2O,eACnCtO,MAFsBA,KAAKkO,SAASlO,KAAKiO,aAKpDU,QAAS,SAAUhP,GACf,MAAOK,MAAKmB,KAAKxB,EAAE2O,gBAGvBnN,KAAM,SAAUwN,GACZ,GAAIC,GAAW5O,KAAKiO,WAChBY,EAAe7O,KAAKkO,SAASQ,QAAQC,GACrCG,EAASnP,EAAE0B,IAAIrB,KAAK+M,MAAO,SAAUtD,GACrC,OACIE,EAAGF,EAAEmF,GACLhG,EAAGjJ,EAAEoP,OAAOtF,EAAEoF,IAAiBpF,EAAEoF,IAAiBpF,EAAEoF,KAI5D,OAAOC,KAIfhP,QAAQkP,WAAalP,QAAQkP,eAC7BlP,QAAQkP,WAAWnB,IAAMA,GAE1B,UAAWjI,OAAOlG,GAAIkG,OAAOjG,EAAGiG,OAAOC"}