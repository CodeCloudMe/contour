{"version":3,"file":"dist/narwhal.min.js","sources":["dist/narwhal.js"],"names":["ns","d3","_","$","undefined","Narwhal","options","this","init","defaults","chart","animations","defaultWidth","defaultAspect","width","height","margin","top","right","bottom","left","padding","export","ctorName","renderer","Error","prototype","data","opt","extend","visualizations","push","partial","utils","textBounds","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","style","position","innerHTML","appendChild","res","clientWidth","clientHeight","remove","calculateWidth","parseInt","el","calculateHeight","containerHeight","calcWidth","ratio","aspect","Math","round","calcMetrics","plotWidth","plotHeight","composeOptions","baseRender","plotArea","render","renderVisualizations","chartOpt","container","select","svg","append","attr","createVisualizationLayer","id","each","visualization","index","layer","call","expose","functionality","ctorObj","ctor","omit","compose","window","jQuery","merge","array1","array2","length","concat","sort","a","b","niceRound","val","ceil","extractScaleDomain","domain","min","max","dataMax","dataMin","xAxis","rangePadding","innerTickSize","outerTickSize","tickPadding","titlePadding","firstAndLast","yAxis","labels","format","cartesian","dataSrc","title","titleOneEm","computeXScale","xDomain","scaleGenerator","nw","xScaleFactory","xScale","scale","rangeBand","computeYScale","yDomain","yScaleDomain","yScale","linear","range","computeScales","adjustDomain","y","axis","orient","_xAxisGroup","postProcessAxis","tickValues","_extractTickValues","tickFormat","tickSize","_yAxisGroup","selectAll","axisLabels","lineHeightAdjustment","datum","d","isObject","x","categories","series","Array","map","bind","extractXDomain","extractYDomain","yMax","getYAxisDataMax","yMin","getYAxisDataMin","set","datums","pluck","adjustedDomain","helpers","isTimeData","isArray","isDate","type","TimeScale","OrdinalScale","isCategorized","_scale","_domain","ordinal","getDate","rangeRoundBands","rangePoints","time","extent","getOptimalTickFormat","axisGroup","getOptimalTicks","days","rangeRound","extractDomain","Csv","raw","headerRow","parse","_dimension","_data","_headers","rows","split","shift","toLowerCase","r","dimension","arguments","indexOf","measure","dimIndex","measureIndex","result","isNaN","connectors","ar","h","colWidth","col","enter","delay","transition","i","duration","appendPath","seriesName","seriesIndex","pathTween","interpolate","quantile","t","line","slice","markerSize","marker","size","replace","path","attrTween","enable","normalizeData","name"],"mappings":"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"}