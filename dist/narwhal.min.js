/*! Narwhal - v0.0.16 - 2013-11-12 */
!function(a,b,c,d,e){function f(a){return this.init(a),this}var g={chart:{animations:!0,defaultWidth:400,defaultAspect:1/1.61803398875,width:e,height:e,margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}},tooltip:{}};f.expose=function(a,b){var d=function(){return c.extend(this,c.omit(b,"init")),b.init&&b.init.call(this,this.options),this};return f.prototype[a]=d,this},f.export=function(a,b){function e(a){return a&&a.length?a[0].data?c.map(a,c.bind(function(a,b){return{name:a.name||"s"+b,data:c.map(a.data,c.bind(this.datum,this))}},this)):c.map(a,c.bind(this.datum,this)):a}function g(a){if(!a||!a.length)return[];a[0].data&&c.each(a,g);var b=c.isObject(a[0])&&c.isDate(a[0].x),d=function(a,b){return a.x-b.x};return b&&a.sort(d),a}if("function"!=typeof b)throw new Error("Invalid render function for "+a+" visualization");f.prototype[a]=function(f,h){f=f||[],g(f),b.defaults=b.defaults||{};var i={};i[a]=d.extend(!0,{},this.options[a],h),d.extend(!0,this.options,b.defaults,i);var j;if(c.isArray(f)){this.data(f);var k=e.call(this,f);j=c.partial(b,k)}else j=c.partial(b,f);return this.visualizations.push(j),this}},f.prototype=c.extend(f.prototype,{init:function(a){return this.options=a,this.visualizations=[],this},calculateWidth:function(){return parseInt(d(this.options.el).width(),10)||this.options.chart.defaultWidth},calculateHeight:function(){var a=parseInt(d(this.options.el).height(),10),b=this.options.chart.width,c=this.options.chart.aspect||this.options.chart.defaultAspect;return a?a:Math.round(b*c)},calcMetrics:function(){var a=this.options;this.adjustPadding(),this.adjustTitlePadding(),a.chart.width=a.chart.width||this.calculateWidth(),a.chart.height=a.chart.height||this.calculateHeight(),this.options=d.extend(!0,a,{chart:{plotWidth:a.chart.width-a.chart.margin.left-a.chart.margin.right-a.chart.padding.left-a.chart.padding.right,plotHeight:a.chart.height-a.chart.margin.top-a.chart.margin.bottom-a.chart.padding.top-a.chart.padding.bottom}})},adjustPadding:function(){return this},adjustTitlePadding:function(){return this},composeOptions:function(){this.options=d.extend(!0,{},g,this.options)},baseRender:function(){return this.plotArea(),this},render:function(){return this.composeOptions(),this.calcMetrics(),this.baseRender(),this.renderVisualizations(),this},plotArea:function(){var a=this.options.chart;return this.container=b.select(this.options.el),this.svg=this.container.append("svg").attr("viewBox","0 0 "+a.width+" "+a.height).attr("preserveAspectRatio","xMinYMin").attr("class","narwhal-chart").attr("height",a.height).append("g").attr("transform","translate("+a.margin.left+","+a.margin.top+")"),this},createVisualizationLayer:function(a){return this.svg.append("g").attr("vis-id",a).attr("transform","translate("+this.options.chart.padding.left+","+this.options.chart.padding.top+")")},renderVisualizations:function(){return c.each(this.visualizations,function(a,b){var c=b+1,d=this.createVisualizationLayer(c);a.call(this,d,this.options,c)},this),this},compose:function(){},data:function(){},datum:function(a){return a}}),window[a]=f}("Narwhal",window.d3,window._,window.jQuery),function(a,b,c,d,e){var f={chart:{padding:{top:6,bottom:25,left:0,right:5}},xAxis:{rangePadding:0,innerTickSize:0,outerTickSize:0,tickPadding:6,titlePadding:4,firstAndLast:!0,orient:"bottom",labels:{}},yAxis:{min:0,max:e,smartAxis:!0,innerTickSize:6,outerTickSize:6,tickPadding:4,titlePadding:4,orient:"left",labels:{align:"middle",format:"s"}}},g={dataSrc:[],init:function(a){return this.options=d.extend(!0,{},f,a),this.options.xAxis.firstAndLast||(this.options.chart.padding.right+=15),this},adjustPadding:function(){var a=this.options.yAxis,d=c.nw.extractScaleDomain(this.yDomain,a.min,a.max),e=this._extractYTickValues(d,a.min,a.max)||[1e4],f=b.format(a.labels.format),g=c.map(e,f).join("<br>"),h=c.nw.textBounds(g,".y.axis"),i=c.nw.textBounds("ABC",".x.axis"),j=function(a){return Math.max(a.outerTickSize||0,a.innerTickSize||0)};this.options.chart.padding.left=j(this.options.yAxis)+(this.options.yAxis.tickPadding||0)+h.width,this.options.chart.padding.bottom=j(this.options.xAxis)+(this.options.xAxis.tickPadding||0)+i.height-4},adjustTitlePadding:function(){var a;(this.options.xAxis.title||this.options.yAxis.title)&&(this.options.xAxis.title&&(a=c.nw.textBounds(this.options.xAxis.title,".x.axis-title"),this.options.chart.padding.bottom+=a.height+this.options.xAxis.titlePadding),this.options.yAxis.title&&(a=c.nw.textBounds(this.options.yAxis.title,".y.axis-title"),this.options.chart.padding.left+=a.height+this.options.yAxis.titlePadding))},computeXScale:function(){if(!this.xDomain)throw new Error("You are trying to render without setting data (xDomain).");this.scaleGenerator=c.nw.xScaleFactory(this.dataSrc,this.options),this.xScale=this.scaleGenerator.scale(this.xDomain),this.rangeBand=this.scaleGenerator.rangeBand()},computeYScale:function(){if(!this.yDomain)throw new Error("You are trying to render without setting data (yDomain).");var a=c.nw.extractScaleDomain(this.yDomain,this.options.yAxis.min,this.options.yAxis.max),d=this.options.chart.rotatedFrame?this.options.chart.plotWidth:this.options.chart.plotHeight,e=this.options.chart.rotatedFrame?[0,d]:[d,0];this.yScale=b.scale.linear().domain(a).range(e),this.options.yAxis.smartAxis||this.yScale.nice()},computeScales:function(){return this.computeXScale(),this.computeYScale(),this},xAxis:function(){return this.scaleGenerator.axis().orient(this.options.xAxis.orient)},yAxis:function(){var a=this.options.yAxis,c=this._extractYTickValues(this.yDomain,a.min,a.max),d=this._numYTicks(this.yDomain,a.min,a.max),e=b.format(a.labels.format),f=a.orient;return b.svg.axis().scale(this.yScale).tickFormat(e).tickSize(a.innerTickSize,a.outerTickSize).tickPadding(a.tickPadding).orient(f).ticks(d).tickValues(c)},renderXAxis:function(){var a=this.xAxis(),b=this.options.chart.plotHeight+this.options.chart.padding.top;return this._xAxisGroup=this.svg.append("g").attr("class","x axis").attr("transform","translate("+this.options.chart.padding.left+","+b+")").call(a),this.scaleGenerator.postProcessAxis(this._xAxisGroup),this},renderYAxis:function(){var a=this.options.yAxis,b={top:".8em",middle:".35em",bottom:"0"},c=this.options.chart.padding.left,d=this.options.chart.padding.top,e=this.yAxis();return this._yAxisGroup=this.svg.append("g").attr("class","y axis").attr("transform","translate("+c+","+d+")").call(e),this._yAxisGroup.selectAll("text").attr("dy",b[a.labels.align]),this},renderAxisLabels:function(){.25*this.titleOneEm;var a,b,d,e=40/46.609;this.options.xAxis.title&&(a=c.nw.textBounds(this.options.xAxis.title,".x.axis-title"),d=this.options.chart.padding.bottom,b=0,this._xAxisGroup.append("text").attr("class","x axis-title").attr("x",b).attr("y",d).attr("dx",(this.options.chart.plotWidth-a.width)/2).attr("dy",-2).text(this.options.xAxis.title)),this.options.yAxis.title&&(a=c.nw.textBounds(this.options.yAxis.title,".y.axis-title"),d=-this.options.chart.padding.left+a.height*e,b=0,this._yAxisGroup.append("text").attr("class","y axis-title").attr("transform","rotate(-90)").attr("x",b).attr("y",d).attr("dx",-(this.options.chart.plotHeight+a.width)/2).attr("dy",0).text(this.options.yAxis.title))},render:function(){return this.composeOptions(),this.adjustDomain(),this.calcMetrics(),this.computeScales(),this.baseRender(),this.renderXAxis().renderYAxis().renderAxisLabels(),this.renderVisualizations(),this},datum:function(a,b){return c.isObject(a)&&c.isArray(a.data)?c.map(a.data,c.bind(this.datum,this)):{y:c.isObject(a)?a.y:a,x:c.isObject(a)?a.x:this.options.xAxis.categories?this.options.xAxis.categories[b]:b}},data:function(a){return a instanceof Array&&!a.length?this:(a instanceof Array&&!a[0].data?(this.dataSrc=c.map(a,c.bind(this.datum,this)),this.xDomain=this.extractXDomain(this.dataSrc),this.yDomain=this.extractYDomain(this.dataSrc),this.yMax=this.getYAxisDataMax(this.dataSrc),this.yMin=this.getYAxisDataMin(this.dataSrc)):a instanceof Array&&a[0].data&&c.each(a,function(a){this.data(a.data)},this),this)},getYAxisDataMax:function(a){return Math.max(this.yMax||0,c.max(c.pluck(a,"y")))},getYAxisDataMin:function(a){return Math.min(this.yMin||0,c.min(c.pluck(a,"y")))},extractXDomain:function(a){return this.options.xAxis.categories?this.options.xAxis.categories:c.pluck(a,"x")},extractYDomain:function(a){var b=this.yDomain?Math.max(this.yDomain[1],c.max(c.pluck(a,"y"))):c.max(c.pluck(a,"y")),d=this.yDomain?Math.min(this.yDomain[0],c.min(c.pluck(a,"y"))):c.min(c.pluck(a,"y"));return[d,b]},adjustDomain:function(){this.yDomain=this.yDomain?this.options.yAxis.smartAxis?[this.yDomain[0],c.nw.niceRound(this.yDomain[1])]:this.yDomain:[0,10],this.xDomain=this.xDomain?this.xDomain:[]},_extractYTickValues:function(a,b,d){function f(){var e=c.nw.merge(a,this.yMax);return null==b&&null==d?e:null==b?d>this.yMin?c.nw.merge([d],e):[d]:null==d?b>=this.yMax?[b]:(e[0]=b,e):c.nw.merge([b,d],this.yMax)}return this.options.yAxis.smartAxis?f.call(this):e},_numYTicks:function(){function a(){return null!=this.options.yAxis.ticks?this.options.yAxis.ticks:e}function b(){return 3}return this.options.yAxis.smartAxis?b.call(this):a.call(this)}};Narwhal.expose("cartesian",g)}("Narwhal",window.d3,window._,window.jQuery),Narwhal.version="0.0.16",function(a,b,c){var d={xScaleFactory:function(a,b){var d=c.isArray(a)&&a.length>0&&a[0].data?a[0].data[0].x&&c.isDate(a[0].data[0].x):c.isArray(a)&&a.length>0&&a[0].x&&c.isDate(a[0].x);return d&&"ordinal"!==b.xAxis.type?new c.nw.TimeScale(a,b):new c.nw.OrdinalScale(a,b)}};c.nw=c.extend({},c.nw,d)}("Narwhal",window.d3,window._,window.jQuery),function(a,b,c){function d(a,b){this.options=b,this.data=a,this.init()}d.prototype={init:function(){this.isCategorized=!0,delete this._scale},scale:function(a){return this._domain=a,this._scale||(this._scale=(new b.scale.ordinal).domain(a),this.range()),this._scale},axis:function(){var a=this.options.xAxis,d=b.svg.axis().scale(this._scale).innerTickSize(a.innerTickSize).outerTickSize(a.outerTickSize).tickPadding(a.tickPadding).tickValues(this.options.xAxis.categories).tickFormat(function(a){return c.isDate(a)?a.getDate():a});return this.options.xAxis.firstAndLast&&d.tickValues(c.nw.firstAndLast(this._domain)),d},postProcessAxis:function(){},rangeBand:function(){return this._scale.rangeBand()},range:function(){var a=this.options.chart.rotatedFrame?this.options.chart.plotHeight:this.options.chart.plotWidth,b=[0,a];return this.isCategorized?this._scale.rangeRoundBands(b,.1):this._scale.rangePoints(b)}},c.nw=c.extend({},c.nw,{OrdinalScale:d})}("Narwhal",window.d3,window._,window.jQuery),function(a,b,c,d){function e(a,b){var c=a.getTime()-b.getTime();return c/864e5}function f(a,b){this.options=b,this.data=a,this.init()}f.prototype={init:function(){delete this._scale},scale:function(a){this._domain=a;var c=this._getAxisDomain(a);return this._scale||(this._scale=(new b.time.scale).domain(c),this.range()),this._scale},axis:function(){var a=this.options.xAxis,d=this.getOptimalTickFormat(),e=b.svg.axis().scale(this._scale).tickFormat(d).tickSize(a.innerTickSize,a.outerTickSize).tickPadding(a.tickPadding).tickValues(this._domain);if(null!=this.options.xAxis.maxTicks&&this.options.xAxis.maxTicks<this._domain.length){for(var f=[],g=this._domain.length,h=(g+1)/this.options.xAxis.maxTicks,i=0,j=0;g>i;i+=h,j+=h)f.push(this._domain[Math.min(Math.ceil(j),g-1)]);e.tickValues(f)}else this.options.xAxis.firstAndLast&&e.tickValues(c.nw.firstAndLast(this._domain));return e},postProcessAxis:function(a){if(this.options.xAxis.firstAndLast){var b=a.selectAll(".tick text")[0];d(b[0]).attr("style","text-anchor: start"),d(b[b.length-1]).attr("style","text-anchor: end")}},rangeBand:function(){return 4},getOptimalTickFormat:function(){if(this.options.xAxis.labels.formatter)return this.options.xAxis.labels.formatter;var a=e(this._domain[this._domain.length-1],this._domain[0]),c=this.options.xAxis.maxTicks||5;return c>a?b.time.format("%H:%M"):b.time.format("%d %b")},range:function(){var a=this._getAxisRange(this._domain);return this._scale.rangeRound(a,.1)},_getAxisDomain:function(a){return this.options.xAxis.linearDomain?a:b.extent(a)},_getAxisRange:function(a){var b=this.options.chart.rotatedFrame?this.options.chart.plotHeight:this.options.chart.plotWidth;return this.options.xAxis.linearDomain?c.range(0,b,b/(a.length-1)).concat([b]):[0,b]}},c.nw=c.extend({},c.nw,{TimeScale:f})}("Narwhal",window.d3,window._,window.jQuery),function(a){var b=a._,c={chart:{rotatedFrame:!0},xAxis:{orient:"left"},yAxis:{orient:"bottom"}},d={init:function(){$.extend(!0,this.options,c)},adjustPadding:function(){var a=this.options.xAxis.categories||b.pluck(this.dataSrc,"x"),c=a.join("<br>"),d=b.nw.textBounds(c,".x.axis"),e=b.nw.textBounds("ABC",".y.axis"),f=function(a){return Math.max(a.outerTickSize,a.innerTickSize)};this.options.chart.padding.left=f(this.options.xAxis)+this.options.xAxis.tickPadding+d.width,this.options.chart.padding.bottom=f(this.options.yAxis)+this.options.yAxis.tickPadding+e.height},adjustTitlePadding:function(){var a;(this.options.xAxis.title||this.options.yAxis.title)&&(this.options.xAxis.title&&(a=b.nw.textBounds(this.options.xAxis.title,".x.axis-title"),this.options.chart.padding.left+=a.height+this.options.xAxis.titlePadding),this.options.yAxis.title&&(a=b.nw.textBounds(this.options.yAxis.title,".y.axis-title"),this.options.chart.padding.bottom+=a.height+this.options.yAxis.titlePadding))},renderYAxis:function(){var a=this.yAxis(),b=this.options.chart.padding.left,c=this.options.chart.padding.top+this.options.chart.plotHeight;return this._yAxisGroup=this.svg.append("g").attr("class","y axis").attr("transform","translate("+b+","+c+")").call(a),this},renderXAxis:function(){var a=this.options.chart.padding.left,b=this.options.chart.padding.top,c=this.xAxis();return this._xAxisGroup=this.svg.append("g").attr("class","x axis").attr("transform","translate("+a+","+b+")").call(c),this.scaleGenerator.postProcessAxis(this._xAxisGroup),this},renderAxisLabels:function(){var a,c,d,e,f,g,h=.25*this.titleOneEm,i=40/46.609;this.options.xAxis.title&&(a=b.nw.textBounds(this.options.xAxis.title,".x.axis-title"),f=this.options.chart.rotatedFrame?-a.height:this.options.chart.plotWidth,g=this.options.chart.rotatedFrame?-this.options.chart.padding.left:this.options.chart.padding.bottom-h,d=this.options.chart.rotatedFrame?"-90":"0",this._xAxisGroup.append("text").attr("class","x axis-title").attr("x",0).attr("y",g).attr("transform",["rotate(",d,")"].join("")).attr("dy",a.height*i).attr("dx",-(this.options.chart.plotHeight+a.width)/2).text(this.options.xAxis.title)),this.options.yAxis.title&&(a=b.nw.textBounds(this.options.yAxis.title,".y.axis-title"),e=Math.max(this.options.yAxis.innerTickSize,this.options.yAxis.outerTickSize),c=this.options.chart.rotatedFrame?"end":"middle",f=this.options.chart.rotatedFrame?this.options.chart.plotWidth:0,g=this.options.chart.rotatedFrame?this.options.chart.padding.bottom:-this.options.chart.padding.left+this.titleOneEm-h,d=this.options.chart.rotatedFrame?"0":"-90",this._yAxisGroup.append("text").attr("class","y axis-title").attr("y",g).attr("x",f).attr("dx",-(this.options.chart.plotWidth+a.width)/2).attr("dy",-4).attr("transform",["rotate(",d,")"].join("")).text(this.options.yAxis.title))}};a.Narwhal.expose("horizontal",d)}(window),function(a,b,c){var d={firstAndLast:function(a){return[a[0],a[a.length-1]]},roundToNearest:function(a,b){return Math.ceil(a/b)*b},niceRound:function(a){return Math.ceil(1.1*a)}},e={textBounds:function(a,b){var c=document.getElementsByTagName("body")[0],d=document.createElement("span"),e=document.createElement("span");d.className="narwhal-chart",e.style.position="absolute",e.style.width="auto",e.style.height="auto",e.style.visibility="hidden",e.style.lineHeight="100%",e.innerHTML=a,e.className=b.replace(/\./g," "),d.appendChild(e),c.appendChild(d);var f={width:e.clientWidth,height:e.clientHeight};return d.removeChild(e),c.removeChild(d),f}},f={dateDiff:function(a,b){var c=a.getTime()-b.getTime();return c/864e5}},g={merge:function(a,b){return"number"==typeof a&&(a=[a]),"number"==typeof b&&(b=[b]),a&&a.length?b&&b.length?[].concat(a,b).sort(function(a,b){return a-b}):a:b}},h={extractScaleDomain:function(a,b,d){var e=c.max(a),f=c.min(a);return null==b&&null==d?[f,e]:null==b?[Math.min(f,d),d]:null==d?[b,Math.max(b,e)]:[b,d]}};c.nw=c.extend({},c.nw,d,g,e,f,h)}("Narwhal",window.d3,window._,window.jQuery),function(){Narwhal.export("bar",function(a,b){var c=this.xScale,d=this.yScale,e=this.rangeBand;a=a[0].data?a:[{name:"s1",data:a}];var f=function(a,b){return"series s-"+(b+1)+" "+a.name},g=d3.layout.stack().values(function(a){return a.data}),h=b.selectAll("g.series").data(g(a)).enter().append("svg:g").attr("class",f),i=h.selectAll(".bar").data(function(a){return a.data});i.enter().append("rect").attr("class","bar tooltip-tracker").attr("y",function(a){return c(a.x)}).attr("height",e).attr("x",function(a){return d(a.y0||0)}).attr("width",function(a){return d(a.y)})})}.call(this),function(){function a(a,b,c,d){var e=this.options.chart.plotHeight,f=this.xScale,g=this.yScale,h=this.rangeBand,i=this.options.yAxis.min||this.yMin,j=b.selectAll(".column").data(a);if(j.enter().append("rect").attr("class","column v-"+d+" s-1").attr("x",function(a){return f(a.x)}).attr("y",function(){return g(i)}).attr("height",0).attr("width",function(){return h}),this.options.chart.animations){var k=3;j.transition().delay(function(a,b){return b*k}).duration(500).attr("height",function(a){return e-g(a.y)}).attr("y",function(a){return g(a.y)})}else j.attr("height",function(a){return e-g(a.y)}).attr("y",function(a){return g(a.y)})}var b={};a.defaults=b,Narwhal.export("column",a)}("Narwhal",window.d3,window._,window.jQuery),function(a,b,c,d){function e(a,e,f,g){function h(a,f,h){function k(){q[0]&&t.attr("d",l(q[0])).transition().duration(600).attrTween("d",p)}function m(){t.attr("d",l)}function n(){e.append("g").attr("class","line-chart-markers").selectAll("dot").data(q).enter().append("circle").attr("class","dot "+s).attr("r",r).attr("cx",i).attr("cy",j)}function o(){var a=10;e.append("g").attr("class","tooltip-trackers").selectAll("tooltip-tracker").data(q).enter().append("circle").attr("class","tooltip-tracker").attr("opacity",0).attr("r",a).attr("cx",i).attr("cy",j)}function p(){var a=q,c=b.scale.quantile().domain([0,1]).range(b.range(1,a.length+1));return function(b){return l(a.slice(0,c(b)))}}f=f||"";var q=c.filter(a,function(a){return null!=a.y}),r=this.options.line.marker.size,s=["v-"+g,"s-"+h,f].join(" "),t=e.append("path").datum(q).attr("class","line "+s),u=this.options.chart.animations?k:m,v=this.options.line.marker.enable?n:d.noop;u(),v(),o()}var i=c.bind(function(a){return this.xScale(a.x)+this.rangeBand/2},this),j=c.bind(function(a){return this.yScale(a.y)},this),k=c.bind(this.datum,this),l=b.svg.line().x(function(a){return i(a)}).y(function(a){return j(a)});return a[0].data?c.each(a,function(a,b){var d=c.map(a.data,k);h.call(this,d,a.name,b+1)},this):h.call(this,c.map(a,k),a.name,1),this}var f={line:{marker:{enable:!0,size:2.5}}};e.defaults=f,Narwhal.export("line",e)}("Narwhal",window.d3,window._,window.jQuery),Narwhal.export("stackTooltip",function(a,b,c){var d=$(c.stackTooltip.el);d.addClass("stack-tooltip");var e=function(b){var c=_.filter(_.map(a,function(a,c){return a.data[b.x]?{z:a.name,y:a.data[b.x].y,"class":"s-"+(c+1)}:null}),function(a){return a}),e=_.map(c,function(a){return'<span class="'+a.class+'"">'+a.z+": "+a.y+"</span>"}).join(" / ");d.html(e).show()},f=function(){d.html("")};this.svg.selectAll(".tooltip-tracker").on("mouseover.tooltip",e.bind(this)).on("mouseout.tooltip",f.bind(this))}),function(){function a(){var a=function(){clearTimeout(this.tooltip.hideTimer)},b=function(a,b){this.options.tooltip.animate?this.tooltipElement.transition().duration(b).style("opacity",a):this.tooltipElement.style("opacity",a)},c=function(a){return{x:a.pageX+10,y:a.pageY-10}},d=function(a){var b=d3.event,d=c(b);g.call(this,a,d)},e=function(){b.call(this,0,this.options.tooltip.hideTime)},f=function(a){return this.options.tooltip.formatter?this.options.tooltip.formatter.call(this,a):"x: "+a.x+"<br>"+"y: "+a.y},g=function(c,d){a.call(this);var e=f.call(this,c);this.tooltipElement.select(".text").html(e),this.tooltipElement.style("top",d.y+"px").style("left",d.x+"px"),b.call(this,this.options.tooltip.visibleOpacity,this.options.tooltip.showTime)};this.tooltipElement=this.container.append("div"),this.tooltipElement.attr("class","nw-tooltip").style("opacity",0).append("div").attr("class","text"),this.svg.selectAll(".tooltip-tracker").on("mouseover.tooltip",d.bind(this)).on("mouseout.tooltip",e.bind(this))}var b={tooltip:{animate:!0,visibleOpacity:.75,showTime:300,hideTime:500}};a.defaults=b,Narwhal.export("tooltip",a)}(),function(a,b,c){function d(a,b){return b="undefined"==typeof b?!0:b,this.parse(a,b),this._dimension=0,this}d.prototype={parse:function(a,b){if(this._data=[],this._headers=[],a&&a.length){var d=a.split(/\n\r?/);this._headers=b?c.each(d.shift().split(","),function(a){return a.toLowerCase()}):c.range(0,d[0].length),c.each(d,function(a){this._data.push(a.split(","))},this)}},dimension:function(a){return arguments.length?(this._dimension=this._headers.indexOf(a.toLowerCase()),this):this._headers[this._dimension]},measure:function(a){return this.data(a.toLowerCase())},data:function(a){var b=this._dimension,d=this._headers.indexOf(a),e=c.map(this._data,function(a){return{x:a[b],y:c.isNaN(+a[d])?a[d]:+a[d]}});return e}},Narwhal.connectors=Narwhal.connectors||{},Narwhal.connectors.Csv=d}("Narwhal",window.d3,window._,window.jQuery);
//# sourceMappingURL=dist/narwhal.min.map